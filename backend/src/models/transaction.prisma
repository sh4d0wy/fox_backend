enum TransactionType {
  RAFFLE_CREATION
  RAFFLE_ENTRY
  RAFFLE_WIN
  RAFFLE_CANCEL
  RAFFLE_END
  RAFFLE_CLAIM
  RAFFLE_REFUND
  RAFFLE_PURCHASE
  RAFFLE_DEPOSIT
}

model Transaction {
  id            String          @id @default(uuid())
  transactionId String          @unique
  type          TransactionType
  sender        String
  receiver      String
  createdAt     DateTime        @default(now())
  amount        BigInt
  isNft         Boolean         @default(false)
  mintAddress   String          //a unified field for both token and nft transactions

  user          User            @relation(fields: [sender], references: [walletAddress])
  @@map("transactions")
  @@index([sender])
  @@index([receiver])
  @@index([transactionId])
}

