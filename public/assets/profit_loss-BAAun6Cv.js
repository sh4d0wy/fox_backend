import{Ct as e,Gn as t,Pn as n,Tn as r,Xn as i,or as a,tr as o,wt as s}from"./index-BiZf0XOp.js";import{s as c,u as l}from"./statsRoutes-C8PS0B4K.js";var u=a(t(),1),d=a(o(),1);const f=e=>{let t=(0,u.c)(14),{data:n}=e,r;t[0]===n.length?r=t[1]:(r=n.length===0&&(0,d.jsx)(`div`,{className:`absolute w-full h-full flex items-center justify-center md:py-20 py-[120px]`,children:(0,d.jsx)(`p`,{className:`md:text-base text-sm font-medium text-center font-inter text-white`,children:`No data found`})}),t[0]=n.length,t[1]=r);let i;t[2]===Symbol.for(`react.memo_cache_sentinel`)?(i=(0,d.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium px-6 py-7`,children:`Date`}),t[2]=i):i=t[2];let a;t[3]===Symbol.for(`react.memo_cache_sentinel`)?(a=(0,d.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium`,children:(0,d.jsx)(`div`,{className:`pl-5 h-6`,children:`Spent`})}),t[3]=a):a=t[3];let o;t[4]===Symbol.for(`react.memo_cache_sentinel`)?(o=(0,d.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium`,children:(0,d.jsx)(`div`,{className:`pl-5 h-6`,children:`Won`})}),t[4]=o):o=t[4];let s;t[5]===Symbol.for(`react.memo_cache_sentinel`)?(s=(0,d.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium`,children:(0,d.jsx)(`div`,{className:`pl-5 h-6`,children:`P&L`})}),t[5]=s):s=t[5];let c;t[6]===Symbol.for(`react.memo_cache_sentinel`)?(c=(0,d.jsx)(`thead`,{className:`bg-black-1300 border-b border-gray-1100 `,children:(0,d.jsxs)(`tr`,{children:[i,a,o,s,(0,d.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium`,children:(0,d.jsx)(`div`,{className:`pl-5 h-6`,children:`ROI`})})]})}),t[6]=c):c=t[6];let l;t[7]===n?l=t[8]:(l=n.map(m),t[7]=n,t[8]=l);let f;t[9]===l?f=t[10]:(f=(0,d.jsx)(`div`,{className:`overflow-auto`,children:(0,d.jsxs)(`table`,{className:`table md:w-full w-[767px] `,children:[c,(0,d.jsx)(`tbody`,{children:l})]})}),t[9]=l,t[10]=f);let p;return t[11]!==r||t[12]!==f?(p=(0,d.jsxs)(`div`,{className:`border relative border-gray-1100 rounded-[20px] w-full overflow-hidden h-full min-h-[150px]`,children:[r,f]}),t[11]=r,t[12]=f,t[13]=p):p=t[13],p};function p(e){return e.trim()}function m(e,t){let[n,r]=e.date.includes(`|`)?e.date.split(`|`).map(p):[e.date,``],i=typeof e.roi==`string`?parseFloat(e.roi.replace(`%`,``)):e.roi;return(0,d.jsxs)(`tr`,{className:`w-full`,children:[(0,d.jsx)(`td`,{children:(0,d.jsx)(`div`,{className:`px-6 flex items-center gap-2.5 py-6 border-b border-gray-1100 `,children:(0,d.jsxs)(`p`,{className:`md:text-base text-sm text-white font-medium font-inter`,children:[n,` `,(0,d.jsx)(`span`,{className:`text-gray-1200 mx-1`,children:`|`}),` `,r]})})}),(0,d.jsx)(`td`,{children:(0,d.jsx)(`div`,{className:`px-5 flex items-center gap-2.5 py-6 border-b border-gray-1100`,children:(0,d.jsxs)(`p`,{className:`md:text-base text-sm text-white font-medium font-inter`,children:[`$`,e.spent]})})}),(0,d.jsx)(`td`,{children:(0,d.jsx)(`div`,{className:`px-5 flex items-center gap-2.5 py-6 border-b border-gray-1100`,children:(0,d.jsxs)(`p`,{className:`md:text-base text-sm text-white font-medium font-inter`,children:[`$`,e.won]})})}),(0,d.jsx)(`td`,{children:(0,d.jsx)(`div`,{className:`px-5 flex items-center gap-2.5 py-6 border-b border-gray-1100`,children:(0,d.jsxs)(`p`,{className:`md:text-base text-sm font-medium font-inter ${e.pl>=0?`text-green-1100`:`text-orange-1100`}`,children:[`$`,e.pl]})})}),(0,d.jsx)(`td`,{children:(0,d.jsx)(`div`,{className:`px-5 flex items-center gap-2.5 py-6 border-b border-gray-1100`,children:(0,d.jsxs)(`p`,{className:`md:text-base text-sm font-medium font-inter ${i>0?`text-green-1100`:`text-white`}`,children:[i,`%`]})})})]},t)}var h=a(t(),1);const g=e=>{let t=(0,h.c)(17),{data:n,isLoading:r}=e,i;t[0]===r?i=t[1]:(i=r&&(0,d.jsx)(`div`,{className:`flex items-center justify-center h-full`,children:(0,d.jsx)(`div`,{className:`animate-spin rounded-full h-8 w-8 border-b-2 border-primary-color`})}),t[0]=r,t[1]=i);let a;t[2]===n.length?a=t[3]:(a=n.length===0&&(0,d.jsx)(`div`,{className:`absolute w-full h-full flex items-center justify-center md:py-20 py-[120px]`,children:(0,d.jsx)(`p`,{className:`md:text-base text-sm font-medium text-center font-inter text-white`,children:`No data found`})}),t[2]=n.length,t[3]=a);let o;t[4]===Symbol.for(`react.memo_cache_sentinel`)?(o=(0,d.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium px-6 py-7`,children:`Date`}),t[4]=o):o=t[4];let s;t[5]===Symbol.for(`react.memo_cache_sentinel`)?(s=(0,d.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium`,children:(0,d.jsx)(`div`,{className:`pl-5 h-6`,children:`Spent`})}),t[5]=s):s=t[5];let c;t[6]===Symbol.for(`react.memo_cache_sentinel`)?(c=(0,d.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium`,children:(0,d.jsx)(`div`,{className:`pl-5 h-6`,children:`Sold`})}),t[6]=c):c=t[6];let l;t[7]===Symbol.for(`react.memo_cache_sentinel`)?(l=(0,d.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium`,children:(0,d.jsx)(`div`,{className:`pl-5 h-6`,children:`P&L`})}),t[7]=l):l=t[7];let u;t[8]===Symbol.for(`react.memo_cache_sentinel`)?(u=(0,d.jsx)(`thead`,{className:`bg-black-1300 border-b border-gray-1100`,children:(0,d.jsxs)(`tr`,{children:[o,s,c,l,(0,d.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium`,children:(0,d.jsx)(`div`,{className:`pl-5 h-6`,children:`ROI`})})]})}),t[8]=u):u=t[8];let f;t[9]===n?f=t[10]:(f=n.map(v),t[9]=n,t[10]=f);let p;t[11]===f?p=t[12]:(p=(0,d.jsx)(`div`,{className:`overflow-auto`,children:(0,d.jsxs)(`table`,{className:`table md:w-full w-[767px]`,children:[u,(0,d.jsx)(`tbody`,{children:f})]})}),t[11]=f,t[12]=p);let m;return t[13]!==i||t[14]!==a||t[15]!==p?(m=(0,d.jsxs)(`div`,{className:`border relative border-gray-1100 md:pb-32 pb-20 rounded-[20px] w-full overflow-hidden`,children:[i,a,p]}),t[13]=i,t[14]=a,t[15]=p,t[16]=m):m=t[16],m};function _(e){return e.trim()}function v(e,t){let[n,r]=e.date.includes(`|`)?e.date.split(`|`).map(_):[e.date,``],i=typeof e.roi==`string`?parseFloat(e.roi.replace(`%`,``)):e.roi;return(0,d.jsxs)(`tr`,{className:`w-full`,children:[(0,d.jsx)(`td`,{children:(0,d.jsx)(`div`,{className:`px-6 flex items-center gap-2.5 py-6 border-b border-gray-1100`,children:(0,d.jsxs)(`p`,{className:`md:text-base text-sm text-white font-medium font-inter`,children:[n,` `,(0,d.jsx)(`span`,{className:`text-gray-1200 mx-1`,children:`|`}),` `,r]})})}),(0,d.jsx)(`td`,{children:(0,d.jsx)(`div`,{className:`px-5 flex items-center gap-2.5 py-6 border-b border-gray-1100`,children:(0,d.jsxs)(`p`,{className:`md:text-base text-sm text-white font-medium font-inter`,children:[`$`,e.spent]})})}),(0,d.jsx)(`td`,{children:(0,d.jsx)(`div`,{className:`px-5 flex items-center gap-2.5 py-6 border-b border-gray-1100`,children:(0,d.jsxs)(`p`,{className:`md:text-base text-sm text-white font-medium font-inter`,children:[`$`,e.sold]})})}),(0,d.jsx)(`td`,{children:(0,d.jsx)(`div`,{className:`px-5 flex items-center gap-2.5 py-6 border-b border-gray-1100`,children:(0,d.jsxs)(`p`,{className:`md:text-base text-sm font-medium font-inter ${e.pl>=0?`text-green-1000`:`text-red-1000`}`,children:[`$`,e.pl]})})}),(0,d.jsx)(`td`,{children:(0,d.jsx)(`div`,{className:`px-5 flex items-center gap-2.5 py-6 border-b border-gray-1100`,children:(0,d.jsx)(`p`,{className:`md:text-base text-sm font-medium font-inter ${i>0?`text-green-1000`:`text-white`}`,children:typeof e.roi==`string`?e.roi:`${e.roi}%`})})})]},t)}var y=new Date().getFullYear();const b=[{label:y.toString(),value:y.toString()},{label:(y-1).toString(),value:(y-1).toString()},{label:(y-2).toString(),value:(y-2).toString()},{label:(y-3).toString(),value:(y-3).toString()},{label:(y-4).toString(),value:(y-4).toString()},{label:(y-5).toString(),value:(y-5).toString()},{label:(y-6).toString(),value:(y-6).toString()},{label:(y-7).toString(),value:(y-7).toString()},{label:(y-8).toString(),value:(y-8).toString()},{label:(y-9).toString(),value:(y-9).toString()},{label:(y-10).toString(),value:(y-10).toString()}],x=r(e=>({timeframe:`daily`,setTimeframe:t=>e({timeframe:t}),year:new Date().getFullYear(),setYear:t=>e({year:t}),services:[{name:`Raffle`,active:!0},{name:`Gumball`,active:!1}],toggleService:(t,n)=>e(e=>({services:e.services.map(e=>e.name===t?{...e,active:n}:e)})),currency:`Raffle`,setCurrency:t=>e({currency:t})}));var S=a(t(),1);const C=e=>{let t=(0,S.c)(11),{title:n,items:r}=e,i;t[0]===n?i=t[1]:(i=(0,d.jsx)(`h3`,{className:`text-[28px] font-semibold text-white font-inter pb-5`,children:n}),t[0]=n,t[1]=i);let a;if(t[2]!==r){let e;t[4]===r.length?e=t[5]:(e=(e,t)=>(0,d.jsxs)(`div`,{className:`flex-1 relative`,children:[t!==r.length-1&&(0,d.jsx)(`hr`,{className:`absolute top-0 left-[120%] md:w-[1px] h-full bg-primary-color`}),(0,d.jsx)(`p`,{className:`text-sm mb-3 font-medium font-inter text-gray-1200`,children:e.label}),(0,d.jsx)(`h4`,{className:`text-base text-primary-color font-inter font-medium`,children:e.value})]},e.label),t[4]=r.length,t[5]=e),a=r.map(e),t[2]=r,t[3]=a}else a=t[3];let o;t[6]===a?o=t[7]:(o=(0,d.jsx)(`div`,{className:`w-full md:gap-[60px] gap-5 grid md:grid-cols-5 grid-cols-3 py-6 px-5 rounded-[20px] border-primary-color border bg-primary-color/5`,children:a}),t[6]=a,t[7]=o);let s;return t[8]!==i||t[9]!==o?(s=(0,d.jsxs)(`div`,{className:`w-full`,children:[i,o]}),t[8]=i,t[9]=o,t[10]=s):s=t[10],s},w=({timeframe:e=`daily`,year:t=new Date().getFullYear()})=>({boughtPnl:i({queryKey:[`bought-pnl`,e,t],queryFn:async()=>await c({timeframe:e,month:new Date().getMonth()+1,year:t})}),soldPnl:i({queryKey:[`sold-pnl`,e,t],queryFn:async()=>await l({timeframe:e,month:new Date().getMonth()+1,year:t})})});var T=a(t()),E=e=>e;function D(){let t=(0,T.c)(51),r=x(N),i=x(M),a=x(j),o=x(A);console.log(`timeframe`,r);let c;t[0]!==r||t[1]!==a?(c={timeframe:r,year:a},t[0]=r,t[1]=a,t[2]=c):c=t[2];let{boughtPnl:l,soldPnl:u}=w(c),{publicKey:p}=n(),m;t[3]!==l.data||t[4]!==r?(m=l.data?.summary?[{label:r===`daily`?`Month`:`Year`,value:l.data.summary.label||`-`},{label:`Spent`,value:`${l.data.summary.totalSpent??0} USDT `},{label:`Total won`,value:`${l.data.summary.totalWon??0} USDT `},{label:`P&L`,value:`${l.data.summary.pnl??0} USDT `},{label:`ROI`,value:l.data.summary.roi||`0%`}]:[{label:r===`daily`?`Month`:`Year`,value:`-`},{label:`Spent`,value:`0 USDT `},{label:`Total won`,value:`0 USDT `},{label:`P&L`,value:`0 USDT `},{label:`ROI`,value:`0%`}],t[3]=l.data,t[4]=r,t[5]=m):m=t[5];let h=m,_;t[6]!==u.data||t[7]!==r?(_=u.data?.summary?[{label:r===`daily`?`Month`:`Year`,value:u.data.summary.label||`-`},{label:`Cost`,value:`${parseFloat(E(u.data.summary.totalCost??0).toFixed(6))} USDT `},{label:`Total sold`,value:`${parseFloat(E(u.data.summary.totalSold??0).toFixed(6))} USDT `},{label:`P&L`,value:`${parseFloat(E(u.data.summary.pnl??0).toFixed(6))} USDT `},{label:`ROI`,value:u.data.summary.roi||`0%`}]:[{label:r===`daily`?`Month`:`Year`,value:`-`},{label:`Cost`,value:`0 USDT `},{label:`Total Sold`,value:`0 USDT `},{label:`P&L`,value:`0 USDT `},{label:`ROI`,value:`0%`}],t[6]=u.data,t[7]=r,t[8]=_):_=t[8];let v=_,y;t[9]===l.data?.data?y=t[10]:(y=l.data?.data?.map(k)||[],t[9]=l.data?.data,t[10]=y);let S=y,D;t[11]===u.data?.data?D=t[12]:(D=u.data?.data?.map(O)||[],t[11]=u.data?.data,t[12]=D);let P=D,F,I,L,R;t[13]===Symbol.for(`react.memo_cache_sentinel`)?(F={opacity:0,y:100},I={opacity:1,y:0},L={opacity:0,y:-100},R={duration:.3},t[13]=F,t[14]=I,t[15]=L,t[16]=R):(F=t[13],I=t[14],L=t[15],R=t[16]);let z;t[17]===Symbol.for(`react.memo_cache_sentinel`)?(z=(0,d.jsx)(`div`,{className:`w-full flex md:flex-nowrap flex-wrap md:gap-0 gap-4 items-center justify-between mb-12`,children:(0,d.jsx)(`div`,{className:``,children:(0,d.jsx)(`h1`,{className:`text-[28px] font-semibold text-white font-inter`,children:`Raffle Profit/Loss`})})}),t[17]=z):z=t[17];let B;t[18]===Symbol.for(`react.memo_cache_sentinel`)?(B=(0,d.jsx)(`p`,{className:`text-sm text-gray-1200 font-medium font-inter mb-6`,children:`Timeframe`}),t[18]=B):B=t[18];let V;t[19]!==i||t[20]!==r?(V=(0,d.jsx)(`ul`,{className:`flex items-center gap-3 bg-black-1000 rounded-full p-1`,children:[`Daily`,`Monthly`,`Yearly`].map(e=>(0,d.jsx)(`li`,{children:(0,d.jsx)(`button`,{className:`md:text-base text-sm cursor-pointer font-inter font-medium transition duration-300 hover:bg-primary-color hover:text-black-1000 text-white rounded-full py-3.5 px-5 ${r===e.toLowerCase()?`bg-primary-color !text-black-1000`:``}`,onClick:()=>i(e.toLowerCase()),children:e})},e.toLowerCase()))}),t[19]=i,t[20]=r,t[21]=V):V=t[21];let H;t[22]===a?H=t[23]:(H=a.toString(),t[22]=a,t[23]=H);let U;t[24]===a?U=t[25]:(U=a.toString(),t[24]=a,t[25]=U);let W;t[26]!==H||t[27]!==U?(W={label:H,value:U},t[26]=H,t[27]=U,t[28]=W):W=t[28];let G;t[29]===o?G=t[30]:(G=e=>{o(parseInt(e.value))},t[29]=o,t[30]=G);let K;t[31]!==W||t[32]!==G?(K=(0,d.jsx)(e,{options:b,value:W,onChange:G}),t[31]=W,t[32]=G,t[33]=K):K=t[33];let q;t[34]!==V||t[35]!==K?(q=(0,d.jsx)(`div`,{className:`w-full py-4 border-y border-primary-color/50`,children:(0,d.jsx)(`div`,{className:`w-full flex items-center md:gap-0 gap-5 md:flex-nowrap flex-wrap max-w-[1078px]`,children:(0,d.jsxs)(`div`,{className:`flex-1`,children:[B,(0,d.jsx)(`div`,{className:`w-full flex items-center`,children:(0,d.jsxs)(`div`,{className:`w-full md:flex-nowrap flex-wrap md:gap-5 gap-5 flex items-center`,children:[V,K]})})]})})}),t[34]=V,t[35]=K,t[36]=q):q=t[36];let J;t[37]!==l.isLoading||t[38]!==h||t[39]!==S||t[40]!==p||t[41]!==u.isLoading||t[42]!==v||t[43]!==P?(J=p&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(`div`,{className:`w-full pt-10 grid md:grid-cols-2 gap-5 pb-10`,children:[(0,d.jsx)(C,{title:`Bought`,items:h}),(0,d.jsx)(C,{title:`Sold`,items:v})]}),(0,d.jsxs)(`div`,{className:`w-full grid md:grid-cols-2 gap-5 pb-10`,children:[(0,d.jsx)(f,{data:S,isLoading:l.isLoading}),(0,d.jsx)(g,{data:P,isLoading:u.isLoading})]})]}),t[37]=l.isLoading,t[38]=h,t[39]=S,t[40]=p,t[41]=u.isLoading,t[42]=v,t[43]=P,t[44]=J):J=t[44];let Y;t[45]===p?Y=t[46]:(Y=!p&&(0,d.jsx)(`div`,{className:`w-full flex items-center justify-center`,children:(0,d.jsx)(`h4`,{className:`md:text-base text-sm text-white px-5 py-19 w-full text-center rounded-lg border border-gray-1200 font-medium font-inter`,children:`Please connect your wallet to view your profit/loss`})}),t[45]=p,t[46]=Y);let X;return t[47]!==q||t[48]!==J||t[49]!==Y?(X=(0,d.jsx)(`main`,{className:`w-full bg-black-1400`,children:(0,d.jsx)(s.section,{initial:F,animate:I,exit:L,transition:R,className:`w-full md:pt-48 pt-36 pb-[100px]`,children:(0,d.jsxs)(`div`,{className:`w-full max-w-[1440px] px-5 mx-auto`,children:[z,q,J,Y]})})}),t[47]=q,t[48]=J,t[49]=Y,t[50]=X):X=t[50],X}function O(e){return{date:e.date,spent:E(e.cost),sold:E(e.sold),pl:E(e.pnl),roi:e.roi}}function k(e){return{date:e.date,spent:e.spent,won:e.won,pl:e.pnl,roi:e.roi}}function A(e){return e.setYear}function j(e){return e.year}function M(e){return e.setTimeframe}function N(e){return e.timeframe}export{D as component};