import{t as e}from"./loader-C8TDxu1X.js";import{Bn as t,Kn as n,Wn as r,Yn as i,gt as a}from"./index-DxVpHET3.js";import{t as o}from"./NoAuctions-C2ZZENKl.js";import{t as s}from"./Dropdown-BzvMiHQh.js";import{c,l}from"./statsRoutes-DfhGI0Nb.js";n();var u=i(r(),1);function d({columns:e,data:t,rowKey:n,className:r}){return(0,u.jsx)(`div`,{className:`border border-gray-1100 rounded-[20px] w-full overflow-x-auto 2xl:overflow-hidden ${r??``}`,children:(0,u.jsxs)(`table`,{className:`table md:w-full w-[700px]`,children:[(0,u.jsx)(`thead`,{className:`bg-gray-1300`,children:(0,u.jsx)(`tr`,{className:`flex-1`,children:e.map((e,t)=>(0,u.jsx)(`th`,{className:`
                    text-base text-start font-inter text-gray-1600 font-medium px-2.5 2xl:px-5 py-4 md:py-7
                    ${e.className??``}`,children:(0,u.jsx)(`div`,{className:`${t===0?``:`border-l border-gray-1600`} pl-5 h-6`,children:e.header})},String(e.key)))})}),(0,u.jsx)(`tbody`,{children:t.map(t=>(0,u.jsx)(`tr`,{className:`flex-1`,children:e.map(e=>(0,u.jsx)(`td`,{className:`border-b border-gray-1100`,children:(0,u.jsx)(`div`,{className:`md:pl-10 pl-4 pr-4 text-sm md:text-base text-black-1000 font-medium font-inter w-full flex items-center gap-2.5 h-20`,children:e.render?e.render(t):t[e.key]})},String(e.key)))},n(t)))})]})})}const f=({timeframe:e,sortFilter:n})=>({rafflerLeaderboard:t({queryKey:[`raffler-leaderboard`,e,n],queryFn:async()=>await l({timeframe:e,sortFilter:n})}),raffleBuyerLeaderboard:t({queryKey:[`raffle-buyer-leaderboard`,e,n],queryFn:async()=>await c({timeframe:e,sortFilter:n})})});var p=[{label:`Raffles created`,value:`raffles`},{label:`Tickets Sold`,value:`tickets`},{label:`Volume`,value:`volume`}],m=[{label:`All Time`,value:`all`},{label:`7D`,value:`7d`},{label:`30D`,value:`30d`},{label:`90D`,value:`90d`},{label:`1Y`,value:`1y`}],h=e=>{if(e===1)return`/images/ranked-1.svg`;if(e===2)return`/images/ranked-2.svg`;if(e===3)return`/images/ranked-3.svg`},g=e=>e.toString(),_=e=>`${e.slice(0,4)}...${e.slice(-4)}`,v=e=>e?.leaderboard?e.leaderboard.map(e=>({rank:String(e.rank).padStart(2,`0`),avatar:h(e.rank),user:e.twitterId?`@${e.twitterId}`:_(e.walletAddress),raffles:e.raffles,tickets:e.ticketsSold,volume:g(e.volume)})):[],y=e=>e?.leaderboard?e.leaderboard.map(e=>({rank:String(e.rank).padStart(2,`0`),avatar:h(e.rank),user:e.twitterId?`@${e.twitterId}`:_(e.walletAddress),raffles:e.raffles,tickets:e.tickets,volume:g(e.volume)})):[],b=[{key:`rank`,header:`Rank`,render:e=>e.avatar?(0,u.jsx)(`img`,{src:e.avatar,className:`w-9 h-9 rounded-full object-cover`,alt:`rank`}):(0,u.jsx)(`p`,{className:`text-base text-black-1000 font-medium font-inter`,children:e.rank})},{key:`user`,header:`User`},{key:`raffles`,header:`Raffles`},{key:`tickets`,header:`Tickets Sold`},{key:`volume`,header:`Volume (USDT)`}],x=[{key:`rank`,header:`Rank`,render:e=>e.avatar?(0,u.jsx)(`img`,{src:e.avatar,className:`w-9 h-9 rounded-full object-cover`,alt:`rank`}):(0,u.jsx)(`p`,{className:`text-base text-black-1000 font-medium font-inter`,children:e.rank})},{key:`user`,header:`User`},{key:`raffles`,header:`Raffles`},{key:`tickets`,header:`Tickets Bought`},{key:`volume`,header:`Volume (USDT)`}];function S(){let{activeTab:t,setActiveTab:n,timeFilter:r,sortFilter:i,setTimeFilter:c,setSortFilter:l}=a(),h=[`Top Rafflers`,`Top Buyers`],{rafflerLeaderboard:g,raffleBuyerLeaderboard:_}=f({timeframe:r.value,sortFilter:i.value}),S=v(g.data),C=y(_.data);return console.log(`rafflersData`,S),console.log(`buyersData`,C),(0,u.jsx)(`main`,{className:`w-full`,children:(0,u.jsx)(`section`,{className:`w-full xl:pt-[60px] pt-7 pb-20 xl:pb-[100px] flex items-center justify-center `,children:(0,u.jsxs)(`div`,{className:`w-full max-w-[1440px]  flex items-center justify-center flex-col px-5 `,children:[(0,u.jsx)(`div`,{className:`w-full flex flex-wrap gap-6 items-center justify-center mb-5`,children:(0,u.jsx)(`h1`,{className:`text-[28px] font-semibold text-black-1000 font-inter`,children:`Leaderboard`})}),(0,u.jsx)(`div`,{className:`w-full flex items-center justify-center gap-5 xl:flex-row flex-col`,children:(0,u.jsxs)(`div`,{className:`w-full flex-1 max-w-full xl:max-w-[893px]`,children:[(0,u.jsxs)(`div`,{className:`w-full flex items-center justify-between gap-5 pb-10 md:flex-nowrap flex-wrap`,children:[(0,u.jsx)(`ul`,{className:`flex items-center gap-3 md:gap-5 md:w-auto w-full`,children:h.map(e=>(0,u.jsx)(`li`,{className:`flex-1 sm:flex-none`,children:(0,u.jsx)(`button`,{onClick:()=>n(e),className:`md:text-base text-sm md:w-auto w-full cursor-pointer font-inter font-medium transition duration-300 hover:bg-primary-color text-black-1000 rounded-full py-2.5 md:py-3.5 md:px-5 px-3
                          ${t===e?`bg-primary-color`:`bg-gray-1400`}
                        `,children:e})},e))}),(0,u.jsxs)(`div`,{className:`flex items-center justify-center gap-3 md:gap-5 md:w-auto w-full`,children:[(0,u.jsx)(s,{className:`md:w-auto w-full`,options:m,value:r,onChange:e=>{c(e)}}),(0,u.jsx)(s,{className:`md:w-auto w-full md:text-base text-sm`,options:p,value:i,onChange:e=>{l(e)}})]})]}),t===`Top Rafflers`&&!g.isLoading&&(S.length>0?(0,u.jsx)(d,{columns:b,data:S,rowKey:e=>e.user}):(0,u.jsx)(o,{})),t===`Top Buyers`&&!_.isLoading&&(C.length>0?(0,u.jsx)(d,{columns:x,data:C,rowKey:e=>e.user}):(0,u.jsx)(o,{})),g.isLoading||_.isLoading&&(0,u.jsx)(`div`,{className:`w-full flex items-center justify-center`,children:(0,u.jsx)(e,{className:`w-10 h-10 text-primary-color animate-spin`})})]})})]})})})}export{S as component};