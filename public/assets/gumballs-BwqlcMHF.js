import{B as e,I as t,L as n,Q as r,R as i,Tn as a,U as o,Y as s,_ as c,bt as l,or as u,q as d,rr as f,tr as p,wn as m,wt as h,yt as g}from"./index-BiZf0XOp.js";import{n as _,t as v}from"./gumballs-data-DuNcTzAu.js";import{t as y}from"./NoGumballs-sa0Tt-kZ.js";var b=u(f());const x=a(e=>({gumballs:v,setGumballs:t=>e({gumballs:t}),filter:`All Gumballs`,setFilter:t=>e({filter:t})}));var S=u(p()),C=[{label:`Recently Added`,value:`Recently Added`},{label:`Expiring Soon`,value:`Expiring Soon`},{label:`Selling out soon`,value:`Selling out soon`},{label:`Price: Low to High`,value:`Price: Low to High`},{label:`Price: High to Low`,value:`Price: High to Low`},{label:`Floor: Low to High`,value:`Floor: Low to High`},{label:`Floor: High to Low`,value:`Floor: High to Low`}];function w(){let{filter:a,setFilter:u}=x(),{data:f,fetchNextPage:p,hasNextPage:v,isLoading:w}=c(a),{sort:T,setSort:E,searchQuery:D,setSearchQuery:O}=m(),{raffleType:k,selectedToken:A,selectedCollection:j,floorMin:M,floorMax:N,endTimeAfter:P,endTimeBefore:F,filtersApplied:I,clearFilter:L,resetFilters:R,setPageType:z}=s();(0,b.useEffect)(()=>{z(`gumballs`)},[z]);let B={raffleType:k,selectedToken:A,selectedCollection:j,floorMin:M,floorMax:N,endTimeAfter:P,endTimeBefore:F},V=(0,b.useMemo)(()=>n(B,`gumballs`),[k,A,j,M,N,P,F]),H=i(B,`gumballs`),U=(0,b.useMemo)(()=>{let n=f?.pages.flatMap(e=>e.items)||[];if(D.trim()){let e=D.toLowerCase().trim();n=n.filter(t=>t.name?.toLowerCase().includes(e))}return I&&H&&(n=t(n,B)),T&&T!==`Sort`&&(n=e(n,T)),n},[f,D,T,I,k,A,j,M,N,P,F]);return(0,b.useEffect)(()=>{O(``)},[]),(0,b.useEffect)(()=>{!w&&U.length===0&&v&&p()},[w,U.length,v,p]),(0,S.jsx)(`main`,{className:`main font-inter bg-black-1100`,children:(0,S.jsx)(h.section,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},transition:{duration:.3},className:`w-full pt-10 md:pt-[122px] pb-24 md:pb-[90px] z-10 relative`,children:(0,S.jsxs)(`div`,{className:`w-full max-w-[1360px] px-6 md:px-4 mx-auto`,children:[(0,S.jsxs)(`div`,{className:`w-full md:pb-12 pb-10 md:mt-10 mt-25`,children:[(0,S.jsx)(`h1`,{className:`lg:text-[60px] text-4xl leading-tight text-white font-semibold font-inter`,children:`Gumball Spins & Rewards`}),(0,S.jsx)(`p`,{className:`lg:text-xl text-base font-inter text-cream-1000`,children:`Spin the gumball and win exciting prizes`})]}),(0,S.jsxs)(`div`,{className:`flex-1 flex items-center justify-between lg:gap-10 gap-5 flex-col lg:flex-row`,children:[(0,S.jsx)(`div`,{className:`overflow-x-auto md:overflow-hidden lg:w-1/2 w-full`,children:(0,S.jsx)(`ul`,{className:`inline-flex flex-col md:flex-row flex-wrap w-full md:w-auto items-center bg-white/[15%] backdrop-blur-[27px] rounded-[40px] p-1 md:gap-3 gap-1.5`,children:[`All Gumballs`,`My Gumballs`,`Past Gumballs`].map((e,t)=>(0,S.jsx)(`li`,{className:`w-full md:w-auto flex justify-center`,children:(0,S.jsxs)(`button`,{onClick:()=>u(e),className:`md:text-base text-sm cursor-pointer w-full md:w-auto text-center font-inter font-normal md:min-w-[115px] transition duration-300 hover:bg-primary-color hover:text-black-1000 text-black-1000 rounded-full py-3 px-3 leading-[19px]
                 ${a===e?`bg-primary-color  font-semibold text-black-1000`:`bg-transparent text-gray-1200`}`,children:[` `,e]})},t))})}),(0,S.jsxs)(`div`,{className:`flex justify-end md:gap-5 gap-3`,children:[(0,S.jsx)(g,{placeholder:`Search gumballs...`,value:D,onSearch:e=>{O(e)}}),(0,S.jsx)(l,{options:C,selected:T,onChange:e=>{E(e),console.log(`Selected sort option:`,e)}}),(0,S.jsx)(d,{})]})]}),(0,S.jsx)(`div`,{className:`py-10 overflow-x-auto flex items-center gap-4`,children:(0,S.jsx)(`div`,{className:` items-center gap-4`,children:V.length>0&&(0,S.jsxs)(`div`,{className:`flex items-center gap-5`,children:[(0,S.jsx)(`p`,{className:`md:text-base text-white text-sm whitespace-nowrap font-black-1000 font-semibold font-inter`,children:`Filters :`}),(0,S.jsxs)(`ul`,{className:`flex items-center gap-4`,children:[(0,S.jsx)(`li`,{children:(0,S.jsxs)(`div`,{className:`border cursor-pointer group hover:border-primary-color transition duration-200 h-12 inline-flex items-center justify-center rounded-full border-gray-1100 px-5 py-3 gap-2`,children:[(0,S.jsx)(`p`,{className:`md:text-base whitespace-nowrap text-sm font-inter font-medium text-white`,children:`Clear All`}),(0,S.jsx)(`button`,{onClick:()=>R(),className:`cursor-pointer`,children:(0,S.jsx)(`img`,{src:`/icons/cross-icon.svg`,className:`min-w-4`,alt:`cross icon`})})]})}),V.map(e=>(0,S.jsx)(`li`,{children:(0,S.jsxs)(`div`,{className:`border cursor-pointer group hover:border-primary-color transition duration-200 h-12 inline-flex items-center justify-center rounded-full border-gray-1100 px-5 py-3 gap-2`,children:[(0,S.jsx)(`p`,{className:`md:text-base whitespace-nowrap text-sm font-inter font-medium text-white`,children:e.label}),(0,S.jsx)(`button`,{onClick:()=>L(e.id),className:`cursor-pointer`,children:(0,S.jsx)(`img`,{src:`/icons/cross-icon.svg`,className:`min-w-4`,alt:`remove icon`})})]})},e.id))]})]})})}),w?(0,S.jsx)(`div`,{className:`grid lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2 gap-4`,children:[,,,,].fill(0).map((e,t)=>(0,S.jsx)(o,{},t))}):U.length>0?(0,S.jsx)(r,{dataLength:U.length,next:p,hasMore:!!v,style:{overflow:`visible`},loader:(0,S.jsx)(`div`,{className:`grid lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2 gap-4 mt-5`,children:[,,,,].fill(0).map((e,t)=>(0,S.jsx)(o,{},t))}),children:(0,S.jsx)(`div`,{className:`grid lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2 gap-4`,children:U.map(e=>(0,S.jsx)(_,{gumball:e},e.id))})}):(0,S.jsx)(y,{})]})})})}export{w as component};