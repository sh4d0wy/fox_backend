import{Fn as e,H as t,In as n,Ln as r,Tn as i,Wn as a,bt as o,k as s,nt as c,zn as l}from"./index-D3pdyxjg.js";import{t as u}from"./aucations-data-AgTkd1uy.js";import{t as d}from"./gumballs-data-UBkhEoUR.js";import{t as f}from"./useClaimRafflePrize-B1h1FmAJ.js";var p=a(l(),1);const m=e=>{let{id:t,raffle:a,prizeData:l,createdBy:u,ticketSupply:d,ticketSold:m=0,ticketPrice:h,ticketTokenAddress:g,ticketsBought:_,raffleEntries:v,className:y,isWinner:b,hasClaimed:x}=e;console.log(e),console.log(b,x);let S=d>0?(_/d*100).toFixed(1):0,C=_*h,w=d-m,{claimPrize:T}=f(),E=n(),{publicKey:D}=i();return(0,p.jsxs)(`div`,{className:`bg-transparent hover:bg-gray-1300 w-full transition duration-300 border border-gray-1100 rounded-2xl ${y}`,children:[(0,p.jsxs)(`div`,{className:`w-full flex gap-5 p-5 sm:flex-row flex-col`,children:[(0,p.jsx)(`img`,{src:l.image,alt:l.name,className:`object-cover w-[109px] h-[109px] rounded-lg`}),(0,p.jsxs)(`div`,{className:`flex-1`,children:[(0,p.jsxs)(`div`,{className:`flex w-full items-center justify-between`,children:[(0,p.jsx)(`h3`,{className:`xl:text-2xl text-xl text-black-1000 font-bold font-inter`,children:l.name}),(0,p.jsxs)(`div`,{className:`flex items-center `,children:[b&&(0,p.jsx)(c,{className:`w-full h-[40px] relative right-10 `,onclick:()=>{T.mutate({raffleId:Number(t)||0},{onSuccess:()=>{E.invalidateQueries({queryKey:[`profile-raffle-purchased`,D?.toBase58()||``]})}})},text:`Claim Prize`,disabled:x||T.isPending}),(0,p.jsx)(r,{to:`/raffles/$id`,params:{id:a||t?.toString()||``},className:`w-10 h-10 transition duration-300 hover:opacity-90 flex items-center justify-center text-white font-semibold font-inter bg-primary-color rounded-md`,children:(0,p.jsx)(`svg`,{width:20,height:20,viewBox:`0 0 20 20`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`,children:(0,p.jsx)(`path`,{d:`M7.5 4.16665L13.3333 9.99998L7.5 15.8333`,stroke:`#212121`,strokeWidth:`1.66667`,strokeLinecap:`round`,strokeLinejoin:`round`})})})]})]}),(0,p.jsxs)(`div`,{className:`w-full gap-6 flex justify-between mt-6 md:flex-row flex-col`,children:[(0,p.jsxs)(`div`,{className:`flex flex-col gap-1.5`,children:[l.verified&&(0,p.jsxs)(`div`,{className:`inline-flex gap-2.5 items-center`,children:[(0,p.jsx)(`p`,{className:`text-sm text-black-1000 font-semibold font-inter`,children:l.collection?s.find(e=>e.address===l.collection)?.name:`Verified Collection`}),(0,p.jsx)(`img`,{src:`/icons/verified-icon.svg`,alt:`verified`,className:`w-5 h-5`})]}),(0,p.jsxs)(`p`,{className:`text-sm font-medium text-primary-color font-inter`,children:[u.slice(0,6),`...`,u.slice(-4)]})]}),(0,p.jsx)(`p`,{className:`text-base mt-auto text-primary-color font-medium font-inter`,children:l.symbol})]})]})]}),(0,p.jsx)(`div`,{className:`border-t border-gray-1100`}),(0,p.jsxs)(`div`,{className:`w-full grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-5 md:gap-20 p-5`,children:[(0,p.jsxs)(`div`,{children:[(0,p.jsx)(`h4`,{className:`text-sm mb-1.5 text-gray-1200 font-inter`,children:`Tickets remaining`}),d===m?(0,p.jsx)(`h4`,{className:`text-base text-red-1000 font-semibold font-inter`,children:`SOLD OUT`}):(0,p.jsxs)(`h4`,{className:`md:text-base text-sm text-black-1000 font-inter font-medium`,children:[w,`/`,d]})]}),(0,p.jsxs)(`div`,{className:`flex-1`,children:[(0,p.jsx)(`h4`,{className:`text-sm mb-1.5 text-gray-1200 font-inter`,children:`Price`}),(0,p.jsxs)(`h4`,{className:`md:text-base text-sm text-black-1000 font-inter font-medium`,children:[(0,p.jsx)(`span`,{children:h/10**(o.find(e=>e.address===g)?.decimals||0)}),` `,o.find(e=>e.address===g)?.symbol||`SOL`]})]}),(0,p.jsxs)(`div`,{className:`flex-1`,children:[(0,p.jsx)(`h4`,{className:`text-sm mb-1.5 text-gray-1200 font-inter`,children:`Tickets Bought`}),(0,p.jsx)(`h4`,{className:`md:text-base text-sm text-black-1000 font-inter font-medium`,children:(0,p.jsx)(`span`,{children:_})})]}),(0,p.jsxs)(`div`,{className:`flex-1`,children:[(0,p.jsx)(`h4`,{className:`text-sm mb-1.5 text-gray-1200 font-inter`,children:`Chance`}),(0,p.jsxs)(`h4`,{className:`md:text-base text-sm text-black-1000 font-inter font-medium`,children:[(0,p.jsx)(`span`,{children:S}),`% Chance`]})]}),(0,p.jsxs)(`div`,{className:`flex-1`,children:[(0,p.jsx)(`h4`,{className:`text-sm mb-1.5 text-gray-1200 font-inter`,children:`Spent`}),(0,p.jsxs)(`h4`,{className:`md:text-base text-sm text-black-1000 font-inter font-medium`,children:[(0,p.jsx)(`span`,{children:C/10**(o.find(e=>e.address===g)?.decimals||0)}),` `,o.find(e=>e.address===g)?.symbol||`SOL`,` Spent`]})]})]})]})},h=()=>(0,p.jsxs)(`div`,{className:`w-full flex flex-col md:gap-7 gap-5 items-center justify-center py-20`,children:[(0,p.jsx)(`img`,{src:`/404-img.png`,className:`lg:w-[192px] w-[162px]`,alt:`404`}),(0,p.jsx)(`p`,{className:`lg:text-lg text-base font-inter font-semibold text-black-1000 text-center`,children:`No auctions created yet.`})]}),g=[{id:1,userName:`OzzyyySOL`,isFavorite:!0,ProfileLink:`#`,userAvatar:`/images/home/placeholder-user.png`,coins:268,tokenSymbol:`JUP`,MainImage:`/images/home/featured-card-img-1.png`,countdown:{hours:36,minutes:23,seconds:56},val:1.29,ttv:1.54,growthPercent:19.38,verified:!0,totalTickets:100,soldTickets:85,pricePerTicket:.0595,category:`rafflers`,rafflesType:`favourite`,sol:.5,title:`Mega Raffle`,TicketBought:5,ChancePercent:12.5},{id:2,userName:`OzzyyySOL`,isFavorite:!1,ProfileLink:`#`,userAvatar:`/images/home/placeholder-user.png`,coins:700,tokenSymbol:`JUP`,MainImage:`/images/home/featured-card-img-2.png`,countdown:{hours:36,minutes:23,seconds:56},val:1.29,ttv:1.54,growthPercent:19.38,verified:!0,totalTickets:100,soldTickets:85,pricePerTicket:.0595,category:`rafflers`,rafflesType:`created`,sol:.5,title:`Lucky Draw`,TicketBought:3,ChancePercent:7.5}];var _=({mainFilter:e,rafflerFilter:n})=>{let r=[],i=[],a=e=>{r.push(...e.filter(e=>e.rafflesType===`created`)),i.push(...e.filter(e=>e.rafflesType===`purchased`||e.rafflesType===`favourite`))};if((e===`rafflers`||e===`All`)&&a(t),(e===`gumballs`||e===`All`)&&a(d),(e===`auctions`||e===`All`)&&a(u),n)switch(n){case`created`:i=[];break;case`purchased`:r=[],i=[...g];break;case`favourite`:r=r.filter(e=>e.isFavorite),i=i.filter(e=>e.isFavorite);break;case`followed`:r=r.filter(e=>e.isFollowed),i=i.filter(e=>e.isFollowed);break}return{created:r,purchased:i}};const v=async({mainFilter:e,rafflerFilter:t,pageParam:n=1,pageSize:r=8})=>{let{created:i,purchased:a}=_({mainFilter:e,rafflerFilter:t}),o=(n-1)*r,s=n*r;return new Promise(e=>{setTimeout(()=>{e({created:i.slice(o,s),purchased:a.slice(o,s)})},500)})},y=(t,n,r=1,i=8)=>e({queryKey:[`creator-profile`,t,n,r],queryFn:()=>v({mainFilter:t,rafflerFilter:n,pageParam:r,pageSize:i}),staleTime:1e3*60*5});export{h as n,m as r,y as t};