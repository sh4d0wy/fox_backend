import{a as e,i as t,n,r,t as i}from"./ToolTip-85TtKEyS.js";import{n as a,t as o}from"./PopupModal-WfiD4Bge.js";import{A as s,C as c,Dn as l,Dt as u,Et as d,G as f,Gn as p,J as m,Kn as h,M as g,Ot as _,Pn as v,Qn as y,W as b,at as ee,ct as x,er as te,et as S,gt as C,it as ne,nt as re,or as w,ot as ie,rr as T,rt as ae,st as oe,tr as E,wt as se}from"./index-BiZf0XOp.js";import{t as ce}from"./useClaimRafflePrize-mwZJKNSj.js";import{t as le}from"./RaffleTermsAndConditions-Dr2HD8JG.js";var ue=_(`crown`,[[`path`,{d:`M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z`,key:`1vdc57`}],[`path`,{d:`M5 21h14`,key:`11awu3`}]]),D=_(`earth`,[[`path`,{d:`M21.54 15H17a2 2 0 0 0-2 2v4.54`,key:`1djwo0`}],[`path`,{d:`M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17`,key:`1tzkfa`}],[`path`,{d:`M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05`,key:`14pb5j`}],[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]]),O=_(`minus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}]]),k=_(`plus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`M12 5v14`,key:`s699le`}]]),de=w(p(),1),A=w(T(),1),j=w(E(),1);function fe(e){let t=(0,de.c)(29),{max:n}=e,r=n,{ticketQuantity:i,setTicketQuantity:a}=C(),o;t[0]!==r||t[1]!==a||t[2]!==i?(o=()=>{a(i<r?i+1:r)},t[0]=r,t[1]=a,t[2]=i,t[3]=o):o=t[3];let s=o,c;t[4]!==a||t[5]!==i?(c=()=>{a(i>1?i-1:1)},t[4]=a,t[5]=i,t[6]=c):c=t[6];let l=c,u;t[7]!==r||t[8]!==a?(u=e=>{let t=Number(e.target.value);if(!t)return a(0);if(t>r)return a(r);if(t<1)return a(1);a(t)},t[7]=r,t[8]=a,t[9]=u):u=t[9];let d=u,f;t[10]===Symbol.for(`react.memo_cache_sentinel`)?(f=(0,j.jsx)(`h4`,{className:`text-sm text-gray-1200 font-medium font-inter`,children:`Quantity`}),t[10]=f):f=t[10];let p;t[11]===r?p=t[12]:(p=(0,j.jsxs)(`div`,{className:`w-full flex items-center justify-between`,children:[f,(0,j.jsxs)(`h4`,{className:`text-sm text-gray-1200 font-medium font-inter`,children:[`Max : `,r]})]}),t[11]=r,t[12]=p);let m;t[13]===Symbol.for(`react.memo_cache_sentinel`)?(m=(0,j.jsx)(O,{className:`w-5 h-5 text-black-1000`}),t[13]=m):m=t[13];let h;t[14]===l?h=t[15]:(h=(0,j.jsx)(`button`,{onClick:l,className:`w-8 h-8 cursor-pointer rounded bg-primary-color flex items-center justify-center`,children:m}),t[14]=l,t[15]=h);let g;t[16]!==d||t[17]!==i?(g=(0,j.jsx)(`input`,{type:`number`,value:i,onChange:d,className:`rounded-[14px] outline-none font-medium text-base text-white text-center w-16`}),t[16]=d,t[17]=i,t[18]=g):g=t[18];let _;t[19]===Symbol.for(`react.memo_cache_sentinel`)?(_=(0,j.jsx)(k,{className:`w-5 h-5 text-black-1000`}),t[19]=_):_=t[19];let v;t[20]===s?v=t[21]:(v=(0,j.jsx)(`button`,{onClick:s,className:`w-8 h-8 cursor-pointer rounded bg-primary-color flex items-center justify-center`,children:_}),t[20]=s,t[21]=v);let y;t[22]!==v||t[23]!==h||t[24]!==g?(y=(0,j.jsxs)(`div`,{className:`w-full flex items-center justify-between rounded-[14px] p-[13px] border border-gray-1100`,children:[h,g,v]}),t[22]=v,t[23]=h,t[24]=g,t[25]=y):y=t[25];let b;return t[26]!==y||t[27]!==p?(b=(0,j.jsxs)(`div`,{className:`w-full flex gap-2 flex-col`,children:[p,y]}),t[26]=y,t[27]=p,t[28]=b):b=t[28],b}var M={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},N=A.createContext&&A.createContext(M),P=[`attr`,`size`,`title`];function F(e,t){if(e==null)return{};var n=I(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function I(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L.apply(this,arguments)}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?R(Object(n),!0).forEach(function(t){B(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function B(e,t,n){return t=V(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e){var t=H(e,`string`);return typeof t==`symbol`?t:t+``}function H(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function U(e){return e&&e.map((e,t)=>A.createElement(e.tag,z({key:t},e.attr),U(e.child)))}function W(e){return t=>A.createElement(G,L({attr:z({},e.attr)},t),U(e.child))}function G(e){var t=t=>{var{attr:n,size:r,title:i}=e,a=F(e,P),o=r||t.size||`1em`,s;return t.className&&(s=t.className),e.className&&(s=(s?s+` `:``)+e.className),A.createElement(`svg`,L({stroke:`currentColor`,fill:`currentColor`,strokeWidth:`0`},t.attr,n,a,{className:s,style:z(z({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:`http://www.w3.org/2000/svg`}),i&&A.createElement(`title`,null,i),e.children)};return N===void 0?t(M):A.createElement(N.Consumer,null,e=>t(e))}function K(e){return W({tag:`svg`,attr:{viewBox:`0 0 512 512`},child:[{tag:`path`,attr:{d:`M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z`},child:[]}]})(e)}var q=w(p(),1);function pe(e){let t=(0,q.c)(4),{isOpen:n,onClose:r}=e,i;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(i=(0,j.jsxs)(`div`,{className:`flex h-full flex-col py-10  items-center justify-center gap-4`,children:[(0,j.jsx)(u,{className:`md:w-15 md:h-15 w-10 h-10 text-black bg-primary-color rounded-full p-2`}),(0,j.jsx)(`h1`,{className:`md:text-4xl text-3xl text-center font-bold text-primary-color`,children:`Raffle Participation Complete`})]}),t[0]=i):i=t[0];let a;return t[1]!==n||t[2]!==r?(a=(0,j.jsx)(o,{isOpen:n,onClose:r,showCloseButton:!1,children:i}),t[1]=n,t[2]=r,t[3]=a):a=t[3],a}var J=w(p(),1);function me(e){let t=(0,J.c)(9),{isOpen:n,shouldEnableAutoClose:i}=e,a=i===void 0?!0:i,s;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(s=(0,j.jsx)(`h1`,{className:`md:text-2xl text-xl text-center font-bold text-white`,children:`Raffle Ended`}),t[0]=s):s=t[0];let c,l;t[1]===Symbol.for(`react.memo_cache_sentinel`)?(c=(0,j.jsx)(`rect`,{width:`446`,height:`2`,fill:`url(#paint0_linear_451_1310)`}),l=(0,j.jsx)(`rect`,{width:`446`,height:`2`,fill:`url(#paint1_linear_451_1310)`}),t[1]=c,t[2]=l):(c=t[1],l=t[2]);let u;t[3]===Symbol.for(`react.memo_cache_sentinel`)?(u=(0,j.jsxs)(`linearGradient`,{id:`paint0_linear_451_1310`,x1:`0`,y1:`1`,x2:`446`,y2:`1`,gradientUnits:`userSpaceOnUse`,children:[(0,j.jsx)(`stop`,{"stop-color":`#212121`}),(0,j.jsx)(`stop`,{offset:`0.524038`,"stop-color":`#FFD400`}),(0,j.jsx)(`stop`,{offset:`0.9375`,"stop-color":`#212121`})]}),t[3]=u):u=t[3];let d;t[4]===Symbol.for(`react.memo_cache_sentinel`)?(d=(0,j.jsxs)(`div`,{className:`w-full flex flex-col items-center justify-center gap-4 pb-2`,children:[s,(0,j.jsxs)(`svg`,{width:`446`,height:`2`,viewBox:`0 0 446 2`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`,children:[c,l,(0,j.jsxs)(`defs`,{children:[u,(0,j.jsxs)(`linearGradient`,{id:`paint1_linear_451_1310`,x1:`0`,y1:`1`,x2:`446`,y2:`1`,gradientUnits:`userSpaceOnUse`,children:[(0,j.jsx)(`stop`,{"stop-color":`#212121`}),(0,j.jsx)(`stop`,{offset:`0.524038`,"stop-color":`#FDED9C`,"stop-opacity":`0.77`}),(0,j.jsx)(`stop`,{offset:`0.9375`,"stop-color":`#212121`})]})]})]})]}),t[4]=d):d=t[4];let f;t[5]===Symbol.for(`react.memo_cache_sentinel`)?(f=(0,j.jsxs)(`div`,{className:`flex h-full flex-col  items-center justify-start gap-4`,children:[d,(0,j.jsxs)(`div`,{className:`w-full flex flex-col items-center justify-center gap-8 py-3`,children:[(0,j.jsx)(`h1`,{className:`md:text-4xl text-3xl text-center font-bold text-primary-color`,children:`Waiting for Winners`}),(0,j.jsx)(r,{className:`md:w-20 md:h-20 w-15 h-15 text-primary-color animate-spin`}),(0,j.jsx)(`p`,{className:`text-sm text-white font-medium font-inter`,children:`The raffle has ended winners will be announced soon...`})]})]}),t[5]=f):f=t[5];let p;return t[6]!==n||t[7]!==a?(p=(0,j.jsx)(o,{isOpen:n,showCloseButton:!1,shouldEnableAutoClose:a,children:f}),t[6]=n,t[7]=a,t[8]=p):p=t[8],p}var he=(e,t)=>{let n=[],r=[];if(e?.attributes&&Array.isArray(e.attributes)&&e.attributes.slice(0,5).forEach(e=>{e.trait_type&&e.value!==void 0&&n.push({label:e.trait_type,value:String(e.value)})}),e?.mintAddress&&r.push({label:`Mint Address`,value:`${e.mintAddress.slice(0,6)}...${e.mintAddress.slice(-6)}`}),e?.collection?.name)r.push({label:`Collection`,value:e.collection.name});else if(t?.collection){let e=m.find(e=>e.address===t.collection)?.name;r.push({label:`Collection`,value:e||`${t.collection.slice(0,6)}...${t.collection.slice(-6)}`})}if(e?.creators&&e.creators.length>0){let t=e.creators[0];r.push({label:`Creator`,value:`${t.address.slice(0,6)}...${t.address.slice(-6)}`})}return e?.owner&&r.push({label:`Owner`,value:`${e.owner.slice(0,6)}...${e.owner.slice(-6)}`}),e?.symbol&&r.push({label:`Symbol`,value:e.symbol}),e?.royalty&&e.royalty>0&&r.push({label:`Royalty`,value:`${e.royalty}%`}),e?.externalUrl&&r.push({label:`External URL`,value:e.externalUrl}),[{title:`Traits`,items:n},{title:`Details`,items:r}].filter(e=>e.items.length>0)};function Y(){let{id:r}=g.useParams(),{data:o,isLoading:u}=b(r||``),{publicKey:p}=v(),{buyTicket:_}=ie(),{ticketQuantity:w}=C(),{cancelRaffle:T}=re(),{claimPrize:E}=ce(),{claimTicket:O}=ae(),[k,de]=(0,A.useState)(!1),M=`/icons/user-avatar.png`,[N,P]=(0,A.useState)(!1),[F,I]=(0,A.useState)(!1),[L,R]=(0,A.useState)(!1),{data:z}=f(r||``),[B,V]=(0,A.useState)(!1),{showBuyTicketPopup:H,setShowBuyTicketPopup:U,showRaffleEndedPopup:W,setShowRaffleEndedPopup:G}=oe(),{data:q,isLoading:J}=n(o?.prizeData?.type===`NFT`?o?.prizeData?.mintAddress:void 0),Y=(0,A.useMemo)(()=>o?.prizeData?.type===`NFT`?he(q,o?.prizeData):[],[q,o?.prizeData]);te();let{favouriteRaffle:ge}=ee(p?.toString()||``),{getFavouriteRaffle:X}=ne(p?.toString()||``),[Z,_e]=(0,A.useState)([{name:`Participants`,active:!0},{name:`Transactions`,active:!1},{name:`Terms & Conditions`,active:!1}]),Q=(0,A.useMemo)(()=>{console.log(`getFavouriteRaffle`,X.data);let e=X?.data?.find(e=>e.id===Number(o?.id));return console.log(`favourite`,e),!!e},[X,o?.id]);console.log(`isFavourite`,Q);let ve=(0,A.useMemo)(()=>T.isPending||o?.ticketSold&&o?.ticketSold>0||o?.state?.toLowerCase()!==`active`&&o?.state?.toLowerCase()!==`failedended`,[o?.ticketSold,o?.state,T.isPending]),ye=(0,A.useMemo)(()=>o?.state?.toLowerCase()===`successended`,[o?.ticketAmountClaimedByCreator,o?.state]),be=(0,A.useMemo)(()=>o?.state?.toLowerCase()===`active`||o?.state?.toLowerCase()===`cancelled`,[o?.state]),xe=(0,A.useMemo)(()=>o?(console.log(`maxTickets`,o?.maxEntries,o?.ticketSupply,o?.ticketSold),Math.min(o?.maxEntries,o?.ticketSupply-o?.ticketSold)):0,[o]),Se=(0,A.useMemo)(()=>(o?.raffleEntries?.filter(e=>e.userAddress===p?.toString())[0]?.quantity??0)==o?.maxEntries?(de(!0),!0):!!(o?.ticketSold&&o?.ticketSold==o?.ticketSupply||o?.state?.toLowerCase()===`successended`),[o?.state,o?.maxEntries,o?.ticketSupply,o?.ticketSold]),$=(0,A.useMemo)(()=>{if(!o||o.state?.toLowerCase()!==`active`)return!1;let e=o.ticketSold!==void 0&&o.ticketSupply!==void 0&&o.ticketSold>=o.ticketSupply,t=o.endsAt?new Date(o.endsAt).getTime()<=Date.now():!1;return e||t},[o?.state,o?.ticketSold,o?.ticketSupply,o?.endsAt]);(0,A.useEffect)(()=>{$&&!W&&o?.state?.toLowerCase()===`active`?G(!0):(o?.state?.toLowerCase()===`successended`||o?.state?.toLowerCase()===`failedended`)&&G(!1)},[$,W,o?.state]);let[Ce]=(0,A.useState)(!0);return u?(0,j.jsx)(`main`,{className:`bg-black py-20 h-[calc(100vh-300px)] text-center text-3xl font-bold text-red-500 w-full flex items-center justify-center`,children:(0,j.jsx)(d,{className:`w-15 h-15 animate-spin text-primary-color`})}):o?(0,j.jsxs)(`main`,{className:`bg-black-1400`,children:[(0,j.jsx)(`div`,{className:`w-full md:pb-4 md:pt-44 pt-36 max-w-[1440px] px-5 mx-auto`,children:(0,j.jsxs)(y,{to:`/raffles`,className:`px-6 cursor-pointer transition duration-300 hover:opacity-80 inline-flex items-center gap-2 py-2.5 bg-gray-1000 rounded-full text-base font-semibold text-white`,children:[(0,j.jsx)(`img`,{src:`/icons/back-arw.svg`,className:`invert`,alt:``}),`Back`]})}),(0,j.jsx)(pe,{isOpen:H&&!$&&o?.state?.toLowerCase()===`active`,onClose:()=>U(!1)}),(0,j.jsx)(me,{isOpen:W,shouldEnableAutoClose:!1}),(0,j.jsx)(se.section,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:-100},transition:{duration:.3},className:`w-full pb-20`,children:(0,j.jsx)(`div`,{className:`w-full py-5 md:py-10 max-w-[1440px] px-5 mx-auto`,children:(0,j.jsxs)(`div`,{className:`w-full flex gap-6 md:gap-10 xl:flex-row flex-col`,children:[(0,j.jsxs)(`div`,{className:`flex-1 max-w-full xl:max-w-[450px] overflow-hidden`,children:[(0,j.jsx)(`div`,{className:`rounded-xl relative overflow-hidden`,children:(0,j.jsx)(`img`,{src:o?.prizeData?.image,className:`w-full md:h-[450px] h-[361px] rounded-[12px] hover:scale-105 transition-all duration-300 ${o?.prizeData?.type===`NFT`?`object-cover`:`object-contain`}`})}),o.prizeData.type===`NFT`&&(0,j.jsxs)(`div`,{className:`w-full pb-7 pt-6 md:py-10 hidden md:flex items-center justify-between`,children:[(0,j.jsxs)(`div`,{className:`flex items-center gap-3 2xl:gap-5`,children:[(0,j.jsx)(`img`,{src:m.find(e=>e.address===o?.prizeData.collection)?.image,className:`w-12 h-12 object-contain rounded-full`,alt:``}),(0,j.jsx)(`h3`,{className:`md:text-[28px] text-lg font-bold text-white font-inter`,children:m.find(e=>e.address===o?.prizeData.collection)?.name})]}),(0,j.jsxs)(`ul`,{className:`flex items-center gap-2`,children:[(0,j.jsx)(`li`,{children:(0,j.jsx)(`a`,{href:m.find(e=>e.address===o?.prizeData.collection)?.twitter,children:(0,j.jsx)(K,{className:`w-7 h-7 object-contain text-white`})})}),(0,j.jsx)(`li`,{children:(0,j.jsxs)(`a`,{href:m.find(e=>e.address===o?.prizeData.collection)?.website,children:[` `,(0,j.jsx)(D,{className:`w-7 h-7 object-contain text-white`})]})})]})]}),(0,j.jsx)(`div`,{className:`w-full space-y-5 hidden md:block`,children:o.prizeData.type===`NFT`&&Y.length>0?J?(0,j.jsx)(`div`,{className:`w-full py-10 flex items-center justify-center`,children:(0,j.jsx)(d,{className:`w-8 h-8 animate-spin text-primary-color`})}):Y.map((t,n)=>(0,j.jsx)(e,{as:`div`,defaultOpen:n===0,className:`w-full py-4 md:py-6 px-5 border border-gray-1100 rounded-[20px]`,children:({open:n})=>(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(e.Button,{className:`flex items-center justify-between w-full text-base md:text-xl font-bold font-inter text-white ${n?`text-primary-color`:``}`,children:[(0,j.jsx)(`span`,{children:t.title}),(0,j.jsx)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:16,height:9,viewBox:`0 0 16 9`,fill:`none`,className:`${n?`rotate-180`:``} transition-transform`,children:(0,j.jsx)(`path`,{d:`M15 1L8 8L1 1`,stroke:`currentColor`,strokeWidth:2,strokeLinecap:`round`,strokeLinejoin:`round`})})]}),(0,j.jsx)(e.Panel,{className:`w-full`,children:(0,j.jsx)(`ul`,{className:`space-y-6 pt-6`,children:t.items.map(e=>(0,j.jsxs)(`li`,{className:`flex items-center justify-between`,children:[(0,j.jsx)(`p`,{className:`md:text-base text-sm font-inter font-medium text-gray-1100/40`,children:e.label}),(0,j.jsx)(`p`,{className:`md:text-base text-sm font-inter font-medium text-white`,children:e.value})]},e.label))})})]})},t.title)):(0,j.jsx)(j.Fragment,{})})]}),(0,j.jsx)(`div`,{className:`flex-1`,children:(0,j.jsxs)(`div`,{className:`w-full`,children:[(0,j.jsxs)(`h4`,{className:`text-sm text-primary-color font-inter font-medium`,children:[`Raffle prize â€¢ `,o?.numberOfWinners,` winner`]}),(0,j.jsx)(`h1`,{className:`md:text-[28px] text-xl font-inter md:mt-6 my-5 md:mb-5 font-bold text-white`,children:o?.prizeData?.type===`NFT`?o?.prizeData?.name:`${(o?.prizeData?.amount??0)/10**(o?.prizeData?.decimals||0)} ${o?.prizeData?.symbol}`}),(0,j.jsxs)(`div`,{className:`flex relative items-start md:items-center md:flex-row flex-col md:gap-0 gap-5 justify-between pb-6 md:pb-8 border-b border-gray-1000`,children:[(0,j.jsxs)(`ul`,{className:`flex items-center gap-3 2xl:gap-5 flex-wrap`,children:[(0,j.jsxs)(`li`,{className:`relative group cursor-help`,onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1),children:[(0,j.jsxs)(`p`,{className:`md:text-sm text-xs inline-block px-2 sm:px-2.5 py-2 md:py-1.5 font-semibold text-center font-inter text-black-1000 bg-primary-color rounded-lg`,children:[o?.prizeData?.type===`NFT`?`Floor Price: `:`Prize Value: `,o?.prizeData?.type===`NFT`?o?.prizeData?.floor/10**9:o?.val??0,` `,` `,(0,j.jsx)(`span`,{children:`SOL`})]}),(0,j.jsx)(i,{label:o?.prizeData?.type===`NFT`?`Floor Price`:`Prize Value`,isOpen:F,children:(0,j.jsx)(`p`,{className:`text-white text-sm font-inter`,children:o?.prizeData?.type===`NFT`?`Floor Price is the lowest price of the NFT in the collection.`:`Prize Value is the value of the prize in SOL.`})})]}),(0,j.jsxs)(`li`,{className:`relative group cursor-help`,onMouseEnter:()=>P(!0),onMouseLeave:()=>P(!1),children:[(0,j.jsxs)(`p`,{className:`md:text-sm text-xs inline-block px-2 sm:px-2.5 py-2 md:py-1.5 font-semibold text-center font-inter bg-gray-1000 text-white  rounded-lg`,children:[`TTV: `,parseFloat(o?.ttv.toFixed(6)),` `,` `,` SOL`]}),(0,j.jsx)(i,{label:`TTV`,isOpen:N,children:(0,j.jsx)(`p`,{className:`text-white text-sm font-inter`,children:`TTV is Ticket To Value. It is the max value in SOL that can be earned by creator if all tickets are sold.`})})]}),(0,j.jsxs)(`li`,{className:`relative group cursor-help`,onMouseEnter:()=>R(!0),onMouseLeave:()=>R(!1),children:[(0,j.jsxs)(`p`,{className:`md:text-sm text-xs inline-block px-2 sm:px-2.5 py-2 md:py-1.5 font-semibold text-center font-inter bg-gray-1000 text-white  rounded-lg`,children:[o?.roi>0?`+`:``,o?.roi,`%`]}),(0,j.jsx)(i,{label:`ROI`,isOpen:L,className:`w-40`,children:(0,j.jsx)(`p`,{className:`text-white text-sm font-inter`,children:`ROI is Return On Investment. It is the percentage of profit earned by creator if all tickets are sold.`})})]})]}),(0,j.jsxs)(`ul`,{className:`flex md:absolute bottom-[33px] right-0 items-center md:flex-col mx-auto bg-primary-color/20 gap-4 p-2 rounded-full `,children:[(0,j.jsx)(`li`,{children:(0,j.jsx)(`button`,{onClick:()=>ge.mutate({raffleId:Number(o?.id)}),className:`border bg-gray-1200 cursor-pointer w-12 h-12 md:py-2.5 gap-2.5 rounded-full text-sm md:text-base font-semibold font-inter text-white inline-flex items-center justify-center`,children:(0,j.jsx)(t,{className:`w-6 h-6 ${Q?`text-gray-900/40 fill-primary-color`:`text-black`}`})})}),(0,j.jsx)(`li`,{children:(0,j.jsx)(`button`,{onClick:()=>{window.navigator.clipboard.writeText(window.location.href),h.success(`Link copied to clipboard`)},className:`border bg-gray-1200 cursor-pointer w-12 h-12 md:py-2.5 gap-2.5 rounded-full text-sm md:text-base font-semibold font-inter text-white inline-flex items-center justify-center`,children:(0,j.jsx)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:24,height:24,viewBox:`0 0 24 24`,fill:`none`,children:(0,j.jsx)(`path`,{fillRule:`evenodd`,clipRule:`evenodd`,d:`M13.803 5.33333C13.803 3.49238 15.3022 2 17.1515 2C19.0008 2 20.5 3.49238 20.5 5.33333C20.5 7.17428 19.0008 8.66667 17.1515 8.66667C16.2177 8.66667 15.3738 8.28596 14.7671 7.67347L10.1317 10.8295C10.1745 11.0425 10.197 11.2625 10.197 11.4872C10.197 11.9322 10.109 12.3576 9.94959 12.7464L15.0323 16.0858C15.6092 15.6161 16.3473 15.3333 17.1515 15.3333C19.0008 15.3333 20.5 16.8257 20.5 18.6667C20.5 20.5076 19.0008 22 17.1515 22C15.3022 22 13.803 20.5076 13.803 18.6667C13.803 18.1845 13.9062 17.7255 14.0917 17.3111L9.05007 13.9987C8.46196 14.5098 7.6916 14.8205 6.84848 14.8205C4.99917 14.8205 3.5 13.3281 3.5 11.4872C3.5 9.64623 4.99917 8.15385 6.84848 8.15385C7.9119 8.15385 8.85853 8.64725 9.47145 9.41518L13.9639 6.35642C13.8594 6.03359 13.803 5.6896 13.803 5.33333Z`,fill:`#212121`})})})})]})]}),(0,j.jsxs)(`div`,{className:`w-full`,children:[(0,j.jsx)(`div`,{className:`w-full flex items-center justify-between md:pt-7 py-6 md:pb-10`,children:(0,j.jsxs)(`div`,{className:`inline-flex gap-4`,children:[(0,j.jsx)(`img`,{src:o?.creator?.profileImage?l+o?.creator?.profileImage:M,className:`w-10 h-10 rounded-full object-cover`,alt:`no`}),(0,j.jsxs)(`div`,{className:``,children:[(0,j.jsx)(`p`,{className:`text-xs md:pb-0 pb-1 font-inter font-normal text-gray-1200`,children:`Raffler`}),(0,j.jsx)(`h4`,{className:`text-base text-white font-inter font-semibold`,children:o?.creator?.walletAddress.slice(0,4)+`...`+o?.creator?.walletAddress.slice(-4)||``})]})]})}),be?(0,j.jsxs)(`div`,{className:`w-full flex items-center flex-col-reverse md:flex-row justify-between py-4 px-[26px] rounded-[20px] bg-primary-color/10`,children:[(0,j.jsx)(`div`,{className:`inline-flex w-full md:w-fit flex-col gap-2.5`,children:o?.state?.toLowerCase()===`active`?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(a,{targetDate:new Date(o?.endsAt||``)}),(0,j.jsx)(`p`,{className:`text-sm font-inter text-gray-1200 font-normal`,children:`Time Left`})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(`p`,{className:`text-lg font-inter px-4 py-2 border border-gray-1200 rounded-lg text-red-500 font-normal`,children:`CANCELLED`}),(0,j.jsx)(`p`,{className:`text-sm font-inter text-center text-gray-1200 font-normal`,children:`Status`})]})}),(0,j.jsxs)(`div`,{className:`flex-1 md:flex-none md:w-1/2 flex justify-between w-full pb-6 md:pb-0`,children:[(0,j.jsxs)(`div`,{className:`inline-flex flex-col gap-2.5`,children:[(0,j.jsxs)(`h3`,{className:`md:text-xl font-semibold font-inter text-white`,children:[o?.ticketSold,` / `,o?.ticketSupply]}),(0,j.jsx)(`p`,{className:`font-inter text-gray-1200 text-sm font-normal`,children:`Tickets Sold`})]}),(0,j.jsxs)(`div`,{className:`inline-flex flex-col gap-2.5`,children:[(0,j.jsxs)(`h3`,{className:`md:text-xl text-base font-semibold font-inter text-white`,children:[o?.ticketPrice/10**(x.find(e=>e.address===o?.ticketTokenAddress)?.decimals||0),` `,x.find(e=>e.address===o?.ticketTokenAddress)?.symbol]}),(0,j.jsx)(`p`,{className:`font-inter text-gray-1200 text-sm font-normal`,children:`Ticket price`})]})]})]}):o?.state?.toLowerCase()!==`cancelled`&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(`div`,{className:`w-full rounded-3xl bg-primary-color/10 border border-primary-color border-t-4 p-4 md:p-6`,children:[(0,j.jsxs)(`div`,{className:`flex items-center gap-2 mb-4`,children:[(0,j.jsx)(ue,{className:`w-6 h-6 text-primary-color fill-primary-color`}),(0,j.jsx)(`p`,{className:`text-white text-lg font-bold font-inter flex items-center gap-2`,children:`Raffle Winners`})]}),o?.winners?.length>1?(0,j.jsx)(`div`,{className:`flex gap-3 overflow-x-auto pb-4 scrollbar-hide`,children:o?.winners?.slice(0,3).map((e,t)=>(0,j.jsxs)(`div`,{className:`shrink-0 flex items-center gap-3 bg-black-1300 rounded-xl px-4 py-3 min-w-[200px] border-2 border-primary-color`,children:[(0,j.jsx)(`div`,{className:`relative`,children:(0,j.jsx)(`img`,{src:e?.profileImage?`https://raffle.meccain.com`+e?.profileImage:M,className:`w-12 h-12 rounded-full object-cover border-2 border-primary-color`,alt:`winner`})}),(0,j.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,j.jsxs)(`h3`,{className:`text-sm font-bold text-white truncate`,children:[e?.walletAddress?.slice(0,4),`...`,e?.walletAddress?.slice(-4)]}),(0,j.jsxs)(`p`,{className:`text-xs text-gray-400`,children:[`Won with `,o.raffleEntries?.find(t=>t.userAddress===e?.walletAddress)?.quantity||0,` Ticket(s)`]})]}),(0,j.jsx)(`div`,{className:`w-8 h-8 rounded-lg bg-primary-color flex items-center justify-center`,children:(0,j.jsxs)(`span`,{className:`text-sm font-bold text-black-1000`,children:[`#`,t+1]})})]},t))}):(0,j.jsxs)(`div`,{className:`w-full rounded-xl px-2 md:px-4 py-3 flex items-center justify-start  md:justify-center md:gap-3 `,children:[(0,j.jsx)(`div`,{className:`relative`,children:(0,j.jsx)(`img`,{src:o?.winners?.[0]?.profileImage?`https://raffle.meccain.com`+o?.winners?.[0]?.profileImage:M,className:`md:w-12 md:h-12 w-10 h-10 rounded-full object-cover border-2 border-primary-color`,alt:`winner`})}),(0,j.jsxs)(`div`,{className:`flex flex-col md:flex-row justify-between items-center w-full `,children:[(0,j.jsxs)(`h3`,{className:`md:text-xl text-base font-bold text-white truncate`,children:[o?.winners?.[0]?.walletAddress?.slice(0,6),`....`,o?.winners?.[0]?.walletAddress?.slice(-6)]}),(0,j.jsxs)(`p`,{className:`md:text-xl text-base font-semibold text-white`,children:[`Won with `,o.raffleEntries?.find(e=>e.userAddress===o?.winners?.[0]?.walletAddress)?.quantity||0,` Ticket(s)`]})]})]}),(0,j.jsxs)(`div`,{className:`flex gap-3 mt-2`,children:[o?.winners&&o.winners.length>1&&(0,j.jsxs)(`button`,{className:`flex-1 py-3 px-4 bg-primary-color/20  text-primary-color font-semibold rounded-xl border border-primary-color hover:bg-primary-color/30 transition-colors`,onClick:()=>V(!0),children:[`View All Winners (`,o.winners.length,`)`]}),o?.winners?.length>0&&o.winners?.some(e=>e.walletAddress===p?.toBase58())&&(0,j.jsx)(`button`,{className:`flex-1 py-3 px-4 bg-primary-color text-black font-semibold rounded-xl hover:opacity-90 transition-opacity cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2`,onClick:()=>{E.mutate({raffleId:Number(o?.id)||0})},disabled:z&&z?.some(e=>e.sender===p?.toBase58())||E.isPending,children:E.isPending?(0,j.jsx)(d,{className:`w-5 h-5 animate-spin`}):`Claim Your Prize`})]})]}),B&&(0,j.jsx)(`div`,{className:`fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4`,children:(0,j.jsxs)(`div`,{className:`bg-[#1a1a1a] rounded-2xl w-full max-w-md max-h-[80vh] overflow-hidden`,children:[(0,j.jsxs)(`div`,{className:`flex items-center justify-between p-4 border-b border-gray-700`,children:[(0,j.jsx)(`div`,{className:`flex items-center gap-2`,children:(0,j.jsx)(`h2`,{className:`text-white text-lg font-bold`,children:`Raffle Winners`})}),(0,j.jsx)(`button`,{onClick:()=>V(!1),className:`w-8 h-8 flex items-center justify-center rounded-full bg-gray-700 hover:bg-gray-600 transition-colors`,children:(0,j.jsxs)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`16`,height:`16`,viewBox:`0 0 24 24`,fill:`none`,stroke:`white`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,children:[(0,j.jsx)(`line`,{x1:`18`,y1:`6`,x2:`6`,y2:`18`}),(0,j.jsx)(`line`,{x1:`6`,y1:`6`,x2:`18`,y2:`18`})]})})]}),(0,j.jsx)(`div`,{className:`overflow-y-auto max-h-[60vh]`,children:(0,j.jsx)(`div`,{className:`border-l-4 border-primary-color`,children:o?.winners?.map((e,t)=>(0,j.jsxs)(`div`,{className:`flex items-center gap-4 px-4 py-3 border-b border-gray-800 last:border-b-0`,children:[(0,j.jsxs)(`span`,{className:`text-gray-400 font-semibold w-6 text-center`,children:[`#`,t+1]}),(0,j.jsx)(`img`,{src:e?.profileImage?`https://raffle.meccain.com`+e?.profileImage:M,className:`w-10 h-10 rounded-full object-cover`,alt:`winner`}),(0,j.jsxs)(`div`,{className:`flex-1`,children:[(0,j.jsxs)(`h3`,{className:`text-white font-semibold text-sm`,children:[e?.walletAddress?.slice(0,4),`...`,e?.walletAddress?.slice(-4)]}),(0,j.jsxs)(`p`,{className:`text-gray-400 text-xs`,children:[`Won with `,o.raffleEntries?.find(t=>t.userAddress===e?.walletAddress)?.quantity||0,` Ticket(s)`]})]})]},t))})})]})})]}),!p&&(0,j.jsx)(`div`,{className:`w-full mt-6 flex items-center flex-col justify-center py-[18px] md:py-[22px] px-[26px] gap-4 md:gap-[26px] border border-gray-1100 rounded-[20px] text-white!`,children:(0,j.jsx)(`h3`,{className:`md:text-base text-sm text-white font-inter font-medium text-center`,children:`Please connect your wallet first to enter a raffle.`})}),p&&p.toBase58()!==o?.createdBy&&o.state?.toLowerCase()===`active`&&!$&&(0,j.jsx)(`div`,{className:`w-full mt-6 bg-black-1300 px-6 py-4 pb-8 border border-primary-color rounded-[20px]`,children:(0,j.jsxs)(`div`,{className:`w-full items-center grid lg:grid-cols-2 sm:grid-cols-2 grid-cols-1 md:gap-[80px] gap-6`,children:[(0,j.jsx)(fe,{max:xe||0}),(0,j.jsx)(`div`,{className:`flex items-center gap-4 justify-center`,children:(0,j.jsx)(`div`,{className:`w-full h-full flex items-center `,children:(0,j.jsx)(S,{className:`w-full py-3 h-full mt-5 disabled:opacity-50 disabled:cursor-not-allowed`,disabled:Se||_.isPending||H,text:_.isPending?(0,j.jsx)(d,{className:`w-5 h-5 animate-spin`}):Se?k?`Max Tickets Bought`:`Sold Out`:`Buy for ${parseFloat((o?.ticketPrice/10**(x.find(e=>e.address===o?.ticketTokenAddress)?.decimals||0)*w).toFixed(6))} ${x.find(e=>e.address===o?.ticketTokenAddress)?.symbol}`,onclick:()=>{_.mutate({raffleId:o?.id||0,ticketsToBuy:w})}})})})]})}),p&&p.toBase58()===o?.createdBy&&(0,j.jsx)(`div`,{className:`w-full mt-6`,children:(0,j.jsxs)(`div`,{className:`w-full bg-primary-color/10 border border-primary-color border-t-4 rounded-3xl items-center flex flex-col gap-5 justify-center py-2`,children:[(0,j.jsxs)(`div`,{className:`w-full flex items-center justify-between gap-3 border-b border-primary-color/20 px-10 py-2 pt-3`,children:[(0,j.jsx)(`svg`,{width:`18`,height:`22`,viewBox:`0 0 18 22`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`,children:(0,j.jsx)(`path`,{d:`M9 11H16C15.47 15.11 12.72 18.78 9 19.92V11ZM9 11H2V5.3L9 2.19M9 0L0 4V10C0 15.55 3.84 20.73 9 22C14.16 20.73 18 15.55 18 10V4L9 0Z`,fill:`white`})}),(0,j.jsx)(`h3`,{className:`text-xl font-bold w-full text-left font-inter text-white`,children:`Administrator`})]}),(0,j.jsxs)(`div`,{className:`w-full md:mb-5 px-10`,children:[(0,j.jsxs)(`div`,{className:`w-full flex flex-col items-center justify-center py-2 pb-5 gap-2`,children:[(0,j.jsxs)(`div`,{className:`w-full flex items-center justify-between gap-3 `,children:[(0,j.jsx)(`p`,{className:`text-md font-inter text-white/60 font-medium`,children:`Current Status`}),(0,j.jsx)(`p`,{className:`text-md font-bold font-inter ${o?.state?.toLowerCase()===`active`?`text-green-500`:o?.state?.toLowerCase()===`successended`||o?.state?.toLowerCase()===`failedended`||o?.state?.toLowerCase()===`cancelled`?`text-red-500`:`text-gray-1200`} `,children:o?.state?.toLowerCase()===`active`?`Active`:o?.state?.toLowerCase()===`successended`||o?.state?.toLowerCase()===`failedended`?`Ended`:o?.state?.toLowerCase()===`cancelled`?`Cancelled`:`Active`})]}),(0,j.jsxs)(`div`,{className:`w-full flex items-center justify-between gap-3 `,children:[(0,j.jsx)(`p`,{className:`text-md font-inter text-white/60 font-medium`,children:`Total Earnings`}),(0,j.jsxs)(`p`,{className:`text-md font-medium font-inter text-white `,children:[o?.ticketSold?o?.ticketSold*o?.ticketPrice/10**(x.find(e=>e.address===o?.ticketTokenAddress)?.decimals||0):0,` `,x.find(e=>e.address===o?.ticketTokenAddress)?.symbol]})]})]}),ye?(0,j.jsx)(S,{className:`w-full h-[54px]`,text:O.isPending?(0,j.jsx)(d,{className:`w-5 h-5 animate-spin`}):`Claim Ticket Amount`,disabled:O.isPending||o?.ticketAmountClaimedByCreator,onclick:()=>{O.mutate(o?.id||0)}}):(0,j.jsx)(S,{className:`w-full bg-red-800! border-none! text-white! h-[54px] ${ve?`opacity-50 cursor-not-allowed`:``} `,text:T.isPending?(0,j.jsx)(d,{className:`w-5 h-5 animate-spin`}):`Cancel Raffle`,disabled:ve,onclick:()=>{T.mutate(o?.id||0)}})]})]})}),(0,j.jsxs)(`div`,{className:`w-full`,children:[(0,j.jsx)(`div`,{className:`w-full overflow-x-auto`,children:(0,j.jsx)(`ul`,{className:`inline-flex items-center bg-white/15 gap-3 2xl:gap-4 mb-6 mt-10 p-1 rounded-full sm:w-auto`,children:Z.map((e,t)=>(0,j.jsx)(`li`,{children:(0,j.jsx)(`button`,{onClick:()=>{_e(Z.map((e,n)=>({...e,active:n===t})))},className:`md:text-base whitespace-nowrap text-sm cursor-pointer font-inter font-medium transition duration-300 hover:bg-primary-color hover:text-black-1000 text-white rounded-full py-2.5 md:py-3 px-4 ${e.active?`bg-primary-color !text-black-1000`:`text-black-1000`}`,children:e.name})},t))})}),Z[0].active&&(0,j.jsx)(c,{participants:o?.raffleEntries,ticketSupply:o?.ticketSupply||0}),Z[1].active&&(0,j.jsx)(s,{transactions:o?.raffleEntries?.flatMap(e=>e.transactions)||[]}),Z[2].active&&(0,j.jsx)(le,{supply:o?.ticketSupply.toString()||`0`})]}),o.prizeData.type===`NFT`&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(`div`,{className:`w-full pb-7 pt-6 md:py-10 flex md:hidden items-center justify-between`,children:[(0,j.jsxs)(`div`,{className:`flex items-center gap-3 2xl:gap-5`,children:[(0,j.jsx)(`img`,{src:m.find(e=>e.address===o?.prizeData.collection)?.image,className:`w-12 h-12 object-contain rounded-full`,alt:``}),(0,j.jsx)(`h3`,{className:`md:text-[28px] text-lg font-bold text-white font-inter`,children:m.find(e=>e.address===o?.prizeData.collection)?.name})]}),(0,j.jsxs)(`ul`,{className:`flex items-center gap-2`,children:[(0,j.jsx)(`li`,{children:(0,j.jsx)(`a`,{href:m.find(e=>e.address===o?.prizeData.collection)?.twitter,children:(0,j.jsx)(K,{className:`w-7 h-7 object-contain text-white`})})}),(0,j.jsx)(`li`,{children:(0,j.jsxs)(`a`,{href:m.find(e=>e.address===o?.prizeData.collection)?.website,children:[` `,(0,j.jsx)(D,{className:`w-7 h-7 object-contain text-white`})]})})]})]}),(0,j.jsx)(`div`,{className:`w-full space-y-5 hidden md:block`,children:o.prizeData.type===`NFT`&&Y.length>0?J?(0,j.jsx)(`div`,{className:`w-full py-10 flex items-center justify-center`,children:(0,j.jsx)(d,{className:`w-8 h-8 animate-spin text-primary-color`})}):Y.map((t,n)=>(0,j.jsx)(e,{as:`div`,defaultOpen:n===0,className:`w-full py-4 md:py-6 px-5 border border-gray-1100 rounded-[20px]`,children:({open:n})=>(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(e.Button,{className:`flex items-center justify-between w-full text-base md:text-xl font-bold font-inter text-white ${n?`text-primary-color`:``}`,children:[(0,j.jsx)(`span`,{children:t.title}),(0,j.jsx)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:16,height:9,viewBox:`0 0 16 9`,fill:`none`,className:`${n?`rotate-180`:``} transition-transform`,children:(0,j.jsx)(`path`,{d:`M15 1L8 8L1 1`,stroke:`currentColor`,strokeWidth:2,strokeLinecap:`round`,strokeLinejoin:`round`})})]}),(0,j.jsx)(e.Panel,{className:`w-full`,children:(0,j.jsx)(`ul`,{className:`space-y-6 pt-6`,children:t.items.map(e=>(0,j.jsxs)(`li`,{className:`flex items-center justify-between`,children:[(0,j.jsx)(`p`,{className:`md:text-base text-sm font-inter font-medium text-gray-1100/40`,children:e.label}),(0,j.jsx)(`p`,{className:`md:text-base text-sm font-inter font-medium text-white`,children:e.value})]},e.label))})})]})},t.title)):(0,j.jsx)(j.Fragment,{})})]})]})]})})]})})})]}):(0,j.jsxs)(`main`,{className:`bg-black py-20 h-[calc(100vh-300px)] flex items-center justify-center gap-2 flex-col text-center text-3xl font-bold text-red-500`,children:[`Raffle not found!`,(0,j.jsxs)(y,{to:`/raffles`,className:`px-6 cursor-pointer transition duration-300 hover:opacity-80 inline-flex items-center gap-2 py-2.5 bg-gray-1000 rounded-full text-base font-semibold text-white`,children:[(0,j.jsx)(`img`,{src:`/icons/back-arw.svg`,className:`invert`,alt:``}),`Back`]})]})}export{Y as component};