import{$ as e,A as t,Bn as n,D as r,G as i,Gn as a,Hn as o,Q as s,W as c,X as l,Z as u,j as d,k as f,vn as p,yn as m}from"./index-BU9aUuzf.js";import"./auctionRoutes-8N_QgpJo.js";import{n as h}from"./useAuctionsQuery-hemVb6KM.js";import{t as g}from"./NoAuctions-DulQYG2f.js";import{n as _,t as v}from"./aucations-data-CunkcWQT.js";var y=a(o());const b=m(e=>({aucations:v,setAucations:t=>e({aucations:t}),filter:`All Auctions`,setFilter:t=>e({filter:t}),enabled1:!1,enabled2:!1,isOpen:!1,setEnabled1:t=>e({enabled1:t}),setEnabled2:t=>e({enabled2:t}),openModal:()=>e({isOpen:!0}),closeModal:()=>e({isOpen:!1}),endDate:null,hours:null,setEndDate:t=>e({endDate:t}),setHours:t=>e({hours:t})}));var x=a(n()),S=[{label:`Recently Added`,value:`Recently Added`},{label:`Expiring Soon`,value:`Expiring Soon`},{label:`Price: Low to High`,value:`Price: Low to High`},{label:`Price: High to Low`,value:`Price: High to Low`},{label:`Floor: Low to High`,value:`Floor: Low to High`},{label:`Floor: High to Low`,value:`Floor: High to Low`}];function C(){let{filter:n,setFilter:a}=b(),{data:o,fetchNextPage:m,hasNextPage:v,isLoading:C}=h(n),{sort:w,setSort:T,searchQuery:E,setSearchQuery:D}=p(),{raffleType:O,selectedToken:k,selectedCollection:A,floorMin:j,floorMax:M,endTimeAfter:N,endTimeBefore:P,filtersApplied:F,clearFilter:I,resetFilters:L,setPageType:R}=i();(0,y.useEffect)(()=>{R(`auctions`)},[R]);let z=(0,y.useMemo)(()=>({raffleType:O,selectedToken:k,selectedCollection:A,floorMin:j,floorMax:M,endTimeAfter:N,endTimeBefore:P}),[O,k,A,j,M,N,P]),B=(0,y.useMemo)(()=>f(z,`auctions`),[z]),V=t(z,`auctions`),H=(0,y.useMemo)(()=>{let e=o?.pages.flatMap(e=>e.items)||[];if(E.trim()){let t=E.toLowerCase().trim();e=e.filter(e=>e.prizeName?.toLowerCase().includes(t))}return F&&V&&(e=r(e,z)),w&&w!==`Sort`&&(e=d(e,w)),e},[o,E,w,F,V,z]);return(0,y.useEffect)(()=>{D(``)},[]),(0,x.jsx)(`main`,{className:`main font-inter`,children:(0,x.jsx)(`section`,{className:`w-full lg:pt-[60px] pt-5 pb-20 md:pb-[120px]`,children:(0,x.jsxs)(`div`,{className:`w-full max-w-[1440px] px-5 mx-auto`,children:[(0,x.jsxs)(`div`,{className:`w-full flex items-center justify-between gap-5 lg:gap-10 flex-wrap`,children:[(0,x.jsx)(`ul`,{className:`flex items-center gap-3 md:gap-5 md:w-auto w-full`,children:[`All Auctions`,`Past Auctions`].map((e,t)=>(0,x.jsx)(`li`,{className:`flex-1 md:flex-auto`,children:(0,x.jsxs)(`button`,{onClick:()=>a(e),className:`md:text-base text-sm md:w-auto w-full cursor-pointer font-inter font-medium transition duration-300 hover:bg-primary-color text-black-1000 rounded-full py-2.5 md:py-3.5 px-5
                      ${n===e?`bg-primary-color`:`bg-gray-1400`}`,children:[` `,e]})},t))}),(0,x.jsxs)(`div`,{className:`flex justify-start lg:justify-end gap-3.5 md:gap-5`,children:[(0,x.jsx)(u,{placeholder:`Search auctions...`,value:E,onSearch:e=>{D(e)}}),(0,x.jsx)(s,{options:S,selected:w,onChange:e=>{T(e),console.log(`Selected sort option:`,e)}}),(0,x.jsx)(c,{})]})]}),(0,x.jsx)(`div`,{className:`lg:py-10 py-5 overflow-x-auto flex gap-4`,children:(0,x.jsx)(`div`,{className:`${V?`flex`:`hidden`} items-center gap-4`,children:V&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(`p`,{className:`md:text-base text-sm whitespace-nowrap font-black-1000 font-semibold font-inter`,children:`Filters :`}),(0,x.jsxs)(`ul`,{className:`flex items-center gap-4`,children:[(0,x.jsx)(`li`,{children:(0,x.jsxs)(`div`,{className:`border group hover:border-black-1000 transition duration-200 h-12 inline-flex items-center justify-center rounded-full border-gray-1100 px-5 py-3 gap-2`,children:[(0,x.jsx)(`p`,{className:`md:text-base whitespace-nowrap text-sm font-inter font-medium text-black-1000`,children:`Clear All`}),(0,x.jsx)(`button`,{onClick:()=>L(),className:`cursor-pointer`,children:(0,x.jsx)(`img`,{src:`/icons/cross-icon.svg`,className:`min-w-4`,alt:`cross icon`})})]})}),B.map(e=>(0,x.jsx)(`li`,{children:(0,x.jsxs)(`div`,{className:`border group hover:border-black-1000 transition duration-200 h-12 inline-flex items-center justify-center rounded-full border-gray-1100 px-5 py-3 gap-2`,children:[(0,x.jsx)(`p`,{className:`md:text-base whitespace-nowrap text-sm font-inter font-medium text-black-1000`,children:e.label}),(0,x.jsx)(`button`,{onClick:()=>I(e.id),className:`cursor-pointer`,children:(0,x.jsx)(`img`,{src:`/icons/cross-icon.svg`,className:`min-w-4`,alt:`remove icon`})})]})},e.id))]})]})})}),C?(0,x.jsx)(`div`,{className:`flex items-center min-h-[60vh] justify-center`,children:(0,x.jsx)(`img`,{src:`/loading-vector.svg`,alt:``})}):H.length>0?(0,x.jsx)(l,{dataLength:H.length,next:m,hasMore:!!v,loader:(0,x.jsx)(`div`,{className:`grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mt-5`,children:[,,,,].fill(0).map((t,n)=>(0,x.jsx)(e,{},n))}),children:(0,x.jsx)(`div`,{className:`grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4`,children:H.map(e=>(0,x.jsx)(_,{...e,id:e.id??0,prizeName:e.prizeName??``,prizeImage:e.prizeImage??``,collectionName:e.collectionName??``,reservePrice:e.reservePrice??``,status:e.status??``},e.id))})}):(0,x.jsx)(g,{})]})})})}export{C as component};