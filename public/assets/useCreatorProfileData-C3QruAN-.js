import{D as e,Dn as t,Et as n,Gn as r,J as i,K as a,Pn as o,Qn as s,Tn as c,Xn as l,Zn as u,_t as ee,ct as te,or as d,tr as ne,wt as re}from"./index-B3aWA6vM.js";import{t as ie}from"./gumballs-data-B-1AkeuT.js";import{t as ae}from"./useClaimRafflePrize-Cz0puvxA.js";var oe=d(r(),1),f=d(ne(),1);const p=e=>{let r=(0,oe.c)(122),{id:a,prizeData:c,createdBy:l,ticketSupply:d,ticketSold:ne,ticketPrice:ie,ticketTokenAddress:p,ticketsBought:m,className:se,isWinner:h,hasClaimed:g,creator:ce}=e,le=ne===void 0?0:ne,ue;r[0]!==d||r[1]!==m?(ue=d>0?(m/d*100).toFixed(1):0,r[0]=d,r[1]=m,r[2]=ue):ue=r[2];let de=ue,fe=m*ie,pe=d-le,{claimPrize:_}=ae(),v=u(),{publicKey:y}=o(),me,he,ge,_e;r[3]===Symbol.for(`react.memo_cache_sentinel`)?(me={opacity:.5,y:100},he={opacity:1,y:0},ge={opacity:0,y:100},_e={duration:.3,ease:`easeInOut`},r[3]=me,r[4]=he,r[5]=ge,r[6]=_e):(me=r[3],he=r[4],ge=r[5],_e=r[6]);let ve=`bg-transparent hover:bg-primary-color/10 w-full transition duration-300 border border-gray-1100 rounded-2xl ${se}`,ye=c?.image,be=c?.name,b;r[7]!==ye||r[8]!==be?(b=(0,f.jsx)(`img`,{src:ye,alt:be,className:`object-cover w-[109px] h-[109px] rounded-lg`}),r[7]=ye,r[8]=be,r[9]=b):b=r[9];let xe=c?.name,x;r[10]===xe?x=r[11]:(x=(0,f.jsx)(`h3`,{className:`xl:text-2xl text-xl text-white font-bold font-inter`,children:xe}),r[10]=xe,r[11]=x);let S;r[12]!==c?.collection||r[13]!==c?.verified?(S=c?.verified&&c?.collection&&(0,f.jsxs)(`div`,{className:`inline-flex gap-2.5 items-center`,children:[(0,f.jsx)(`p`,{className:`text-sm text-white font-semibold font-inter`,children:c?.collection&&i.find(e=>e.address===c?.collection)?.name}),(0,f.jsx)(`img`,{src:`/icons/verified-icon.svg`,alt:`verified`,className:`w-5 h-5`})]}),r[12]=c?.collection,r[13]=c?.verified,r[14]=S):S=r[14];let C;r[15]!==x||r[16]!==S?(C=(0,f.jsxs)(`div`,{className:`flex flex-col gap-2`,children:[x,S]}),r[15]=x,r[16]=S,r[17]=C):C=r[17];let w;r[18]!==_||r[19]!==g||r[20]!==a||r[21]!==h||r[22]!==y||r[23]!==v?(w=h&&(0,f.jsxs)(`button`,{onClick:()=>{_.mutate({raffleId:Number(a)||0},{onSuccess:()=>{v.invalidateQueries({queryKey:[`profile-raffle-purchased`,y?.toBase58()||``]})}})},disabled:g||_.isPending,className:`inline-flex justify-center  cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed items-center text-xs md:text-base  px-3 bg-primary-color py-2.5 rounded-full w-full md:w-fit`,children:[(0,f.jsx)(`img`,{src:`/icons/gift-line-icon.svg`,alt:``}),_.isPending?(0,f.jsx)(n,{className:`w-5 h-5 animate-spin`}):`Claim Prize`]}),r[18]=_,r[19]=g,r[20]=a,r[21]=h,r[22]=y,r[23]=v,r[24]=w):w=r[24];let T;r[25]===a?T=r[26]:(T=a?.toString()||``,r[25]=a,r[26]=T);let E;r[27]===T?E=r[28]:(E={id:T},r[27]=T,r[28]=E);let Se;r[29]===Symbol.for(`react.memo_cache_sentinel`)?(Se=(0,f.jsx)(`svg`,{width:20,height:20,viewBox:`0 0 20 20`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`,children:(0,f.jsx)(`path`,{d:`M7.5 4.16665L13.3333 9.99998L7.5 15.8333`,stroke:`#212121`,strokeWidth:`1.66667`,strokeLinecap:`round`,strokeLinejoin:`round`})}),r[29]=Se):Se=r[29];let D;r[30]===E?D=r[31]:(D=(0,f.jsx)(s,{to:`/raffles/$id`,params:E,className:`w-10 h-10 transition duration-300 hover:opacity-90 flex items-center justify-center text-white font-semibold font-inter bg-primary-color rounded-md`,children:Se}),r[30]=E,r[31]=D);let O;r[32]!==w||r[33]!==D?(O=(0,f.jsxs)(`div`,{className:`md:flex hidden md:flex-row items-center justify-center gap-5`,children:[w,D]}),r[32]=w,r[33]=D,r[34]=O):O=r[34];let k;r[35]!==C||r[36]!==O?(k=(0,f.jsxs)(`div`,{className:`flex w-full items-center justify-between`,children:[C,O]}),r[35]=C,r[36]=O,r[37]=k):k=r[37];let Ce=ce?.profileImage?t+ce?.profileImage:ee,we=ce?.walletAddress,A;r[38]!==Ce||r[39]!==we?(A=(0,f.jsx)(`img`,{src:Ce,alt:we,className:`w-6 h-6 rounded-full`}),r[38]=Ce,r[39]=we,r[40]=A):A=r[40];let j;r[41]===l?j=r[42]:(j=l.slice(0,6),r[41]=l,r[42]=j);let M;r[43]===l?M=r[44]:(M=l.slice(-4),r[43]=l,r[44]=M);let N;r[45]!==j||r[46]!==M?(N=(0,f.jsxs)(`p`,{className:`text-sm font-medium text-primary-color font-inter`,children:[j,`...`,M]}),r[45]=j,r[46]=M,r[47]=N):N=r[47];let P;r[48]!==A||r[49]!==N?(P=(0,f.jsx)(`div`,{className:`flex flex-col gap-1.5`,children:(0,f.jsxs)(`div`,{className:`inline-flex gap-2.5 items-center`,children:[A,N]})}),r[48]=A,r[49]=N,r[50]=P):P=r[50];let Te=c?.symbol,F;r[51]===Te?F=r[52]:(F=(0,f.jsx)(`p`,{className:`text-base mt-auto text-primary-color font-medium font-inter`,children:Te}),r[51]=Te,r[52]=F);let I;r[53]!==P||r[54]!==F?(I=(0,f.jsxs)(`div`,{className:`w-full gap-6 flex justify-between mt-6 md:flex-row flex-col`,children:[P,F]}),r[53]=P,r[54]=F,r[55]=I):I=r[55];let L;r[56]!==_||r[57]!==g||r[58]!==a||r[59]!==h||r[60]!==y||r[61]!==v?(L=h&&(0,f.jsxs)(`button`,{onClick:()=>{_.mutate({raffleId:Number(a)||0},{onSuccess:()=>{v.invalidateQueries({queryKey:[`profile-raffle-purchased`,y?.toBase58()||``]})}})},disabled:g||_.isPending,className:`inline-flex justify-center  cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed items-center text-xs md:text-base  px-3 bg-primary-color py-2.5 rounded-full w-full md:w-fit`,children:[(0,f.jsx)(`img`,{src:`/icons/gift-line-icon.svg`,alt:``}),_.isPending?(0,f.jsx)(n,{className:`w-5 h-5 animate-spin`}):`Claim Prize`]}),r[56]=_,r[57]=g,r[58]=a,r[59]=h,r[60]=y,r[61]=v,r[62]=L):L=r[62];let R;r[63]===a?R=r[64]:(R=a?.toString()||``,r[63]=a,r[64]=R);let z;r[65]===R?z=r[66]:(z={id:R},r[65]=R,r[66]=z);let Ee;r[67]===Symbol.for(`react.memo_cache_sentinel`)?(Ee=(0,f.jsx)(`svg`,{width:20,height:20,viewBox:`0 0 20 20`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`,children:(0,f.jsx)(`path`,{d:`M7.5 4.16665L13.3333 9.99998L7.5 15.8333`,stroke:`#212121`,strokeWidth:`1.66667`,strokeLinecap:`round`,strokeLinejoin:`round`})}),r[67]=Ee):Ee=r[67];let B;r[68]===z?B=r[69]:(B=(0,f.jsx)(s,{to:`/raffles/$id`,params:z,className:`w-10 h-10 transition duration-300 hover:opacity-90 flex items-center justify-center text-white font-semibold font-inter bg-primary-color rounded-md`,children:Ee}),r[68]=z,r[69]=B);let V;r[70]!==L||r[71]!==B?(V=(0,f.jsxs)(`div`,{className:`flex md:hidden w-full md:flex-row items-center justify-center gap-5`,children:[L,B]}),r[70]=L,r[71]=B,r[72]=V):V=r[72];let H;r[73]!==k||r[74]!==I||r[75]!==V?(H=(0,f.jsxs)(`div`,{className:`flex-1`,children:[k,I,V]}),r[73]=k,r[74]=I,r[75]=V,r[76]=H):H=r[76];let U;r[77]!==H||r[78]!==b?(U=(0,f.jsxs)(`div`,{className:`w-full flex gap-5 p-5 sm:flex-row flex-col`,children:[b,H]}),r[77]=H,r[78]=b,r[79]=U):U=r[79];let De;r[80]===Symbol.for(`react.memo_cache_sentinel`)?(De=(0,f.jsx)(`div`,{className:`border-t border-gray-1100`}),r[80]=De):De=r[80];let Oe;r[81]===Symbol.for(`react.memo_cache_sentinel`)?(Oe=(0,f.jsx)(`h4`,{className:`text-sm mb-1.5 text-gray-1200 font-inter`,children:`Tickets remaining`}),r[81]=Oe):Oe=r[81];let W;r[82]!==pe||r[83]!==le||r[84]!==d?(W=(0,f.jsxs)(`div`,{className:`flex-1`,children:[Oe,d===le?(0,f.jsx)(`h4`,{className:`text-base text-red-1000 font-semibold font-inter`,children:`SOLD OUT`}):(0,f.jsxs)(`h4`,{className:`md:text-base text-sm text-white font-inter font-medium`,children:[pe,`/`,d]})]}),r[82]=pe,r[83]=le,r[84]=d,r[85]=W):W=r[85];let ke;r[86]===Symbol.for(`react.memo_cache_sentinel`)?(ke=(0,f.jsx)(`h4`,{className:`text-sm mb-1.5 text-gray-1200 font-inter`,children:`Price`}),r[86]=ke):ke=r[86];let Ae;r[87]===p?Ae=r[88]:(Ae=te.find(e=>e.address===p)?.decimals||0,r[87]=p,r[88]=Ae);let je=ie/10**Ae,G;r[89]===je?G=r[90]:(G=(0,f.jsx)(`span`,{children:je}),r[89]=je,r[90]=G);let K;r[91]===p?K=r[92]:(K=te.find(e=>e.address===p)?.symbol||`SOL`,r[91]=p,r[92]=K);let q;r[93]!==G||r[94]!==K?(q=(0,f.jsxs)(`div`,{className:`flex-1`,children:[ke,(0,f.jsxs)(`h4`,{className:`md:text-base text-sm text-white font-inter font-medium`,children:[G,` `,K]})]}),r[93]=G,r[94]=K,r[95]=q):q=r[95];let Me;r[96]===Symbol.for(`react.memo_cache_sentinel`)?(Me=(0,f.jsx)(`h4`,{className:`text-sm mb-1.5 text-gray-1200 font-inter`,children:`Tickets Bought`}),r[96]=Me):Me=r[96];let J;r[97]===m?J=r[98]:(J=(0,f.jsxs)(`div`,{className:`flex-1`,children:[Me,(0,f.jsx)(`h4`,{className:`md:text-base text-sm text-white font-inter font-medium`,children:(0,f.jsx)(`span`,{children:m})})]}),r[97]=m,r[98]=J);let Ne;r[99]===Symbol.for(`react.memo_cache_sentinel`)?(Ne=(0,f.jsx)(`h4`,{className:`text-sm mb-1.5 text-gray-1200 font-inter`,children:`Chance`}),r[99]=Ne):Ne=r[99];let Y;r[100]===de?Y=r[101]:(Y=(0,f.jsxs)(`div`,{className:`flex-1`,children:[Ne,(0,f.jsxs)(`h4`,{className:`md:text-base text-sm text-white font-inter font-medium`,children:[(0,f.jsx)(`span`,{children:de}),`%Chance`]})]}),r[100]=de,r[101]=Y);let Pe;r[102]===Symbol.for(`react.memo_cache_sentinel`)?(Pe=(0,f.jsx)(`h4`,{className:`text-sm mb-1.5 text-gray-1200 font-inter`,children:`Spent`}),r[102]=Pe):Pe=r[102];let Fe;r[103]===p?Fe=r[104]:(Fe=te.find(e=>e.address===p)?.decimals||0,r[103]=p,r[104]=Fe);let Ie=fe/10**Fe,X;r[105]===Ie?X=r[106]:(X=(0,f.jsx)(`span`,{children:Ie}),r[105]=Ie,r[106]=X);let Z;r[107]===p?Z=r[108]:(Z=te.find(e=>e.address===p)?.symbol||`SOL`,r[107]=p,r[108]=Z);let Q;r[109]!==X||r[110]!==Z?(Q=(0,f.jsxs)(`div`,{className:`flex-1`,children:[Pe,(0,f.jsxs)(`h4`,{className:`md:text-base text-sm text-white font-inter font-medium`,children:[X,` `,Z,` Spent`]})]}),r[109]=X,r[110]=Z,r[111]=Q):Q=r[111];let $;r[112]!==W||r[113]!==q||r[114]!==J||r[115]!==Y||r[116]!==Q?($=(0,f.jsxs)(`div`,{className:`w-full grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-5 md:gap-20 p-5`,children:[W,q,J,Y,Q]}),r[112]=W,r[113]=q,r[114]=J,r[115]=Y,r[116]=Q,r[117]=$):$=r[117];let Le;return r[118]!==U||r[119]!==$||r[120]!==ve?(Le=(0,f.jsxs)(re.div,{initial:me,animate:he,exit:ge,transition:_e,className:ve,children:[U,De,$]}),r[118]=U,r[119]=$,r[120]=ve,r[121]=Le):Le=r[121],Le},m=c(e=>({mainFilter:`Rafflers`,setMainFilter:t=>e({mainFilter:t}),rafflerFilter:`created`,setRafflerFilter:t=>e({rafflerFilter:t}),activeRafflerTab:`created`,setActiveRafflerTab:t=>e({activeRafflerTab:t}),enabled:!1,setEnabled:t=>e({enabled:t}),sortOption:`newest`,setSortOption:t=>e({sortOption:t})})),se=[{id:1,userName:`OzzyyySOL`,isFavorite:!0,ProfileLink:`#`,userAvatar:`/images/home/placeholder-user.png`,coins:268,tokenSymbol:`JUP`,MainImage:`/images/home/featured-card-img-1.png`,countdown:{hours:36,minutes:23,seconds:56},val:1.29,ttv:1.54,growthPercent:19.38,verified:!0,totalTickets:100,soldTickets:85,pricePerTicket:.0595,category:`rafflers`,rafflesType:`favourite`,sol:.5,title:`Mega Raffle`,TicketBought:5,ChancePercent:12.5},{id:2,userName:`OzzyyySOL`,isFavorite:!1,ProfileLink:`#`,userAvatar:`/images/home/placeholder-user.png`,coins:700,tokenSymbol:`JUP`,MainImage:`/images/home/featured-card-img-2.png`,countdown:{hours:36,minutes:23,seconds:56},val:1.29,ttv:1.54,growthPercent:19.38,verified:!0,totalTickets:100,soldTickets:85,pricePerTicket:.0595,category:`rafflers`,rafflesType:`created`,sol:.5,title:`Lucky Draw`,TicketBought:3,ChancePercent:7.5}];var h=d(r(),1),g=({mainFilter:t,rafflerFilter:n})=>{let r=[],i=[],o=e=>{r.push(...e.filter(e=>e.rafflesType===`created`)),i.push(...e.filter(e=>e.rafflesType===`purchased`||e.rafflesType===`favourite`))};if((t===`rafflers`||t===`All`)&&o(a),(t===`gumballs`||t===`All`)&&o(ie),(t===`auctions`||t===`All`)&&o(e),n)switch(n){case`created`:i=[];break;case`purchased`:r=[],i=[...se];break;case`favourite`:r=r.filter(e=>e.isFavorite),i=i.filter(e=>e.isFavorite);break;case`followed`:r=r.filter(e=>e.isFollowed),i=i.filter(e=>e.isFollowed);break}return{created:r,purchased:i}};const ce=async({mainFilter:e,rafflerFilter:t,pageParam:n=1,pageSize:r=8})=>{let{created:i,purchased:a}=g({mainFilter:e,rafflerFilter:t}),o=(n-1)*r,s=n*r;return new Promise(e=>{setTimeout(()=>{e({created:i.slice(o,s),purchased:a.slice(o,s)})},500)})},le=(e,t,n,r)=>{let i=(0,h.c)(12),a=n===void 0?1:n,o=r===void 0?8:r,s;i[0]!==e||i[1]!==a||i[2]!==t?(s=[`creator-profile`,e,t,a],i[0]=e,i[1]=a,i[2]=t,i[3]=s):s=i[3];let c;i[4]!==e||i[5]!==a||i[6]!==o||i[7]!==t?(c=()=>ce({mainFilter:e,rafflerFilter:t,pageParam:a,pageSize:o}),i[4]=e,i[5]=a,i[6]=o,i[7]=t,i[8]=c):c=i[8];let u;return i[9]!==s||i[10]!==c?(u={queryKey:s,queryFn:c,staleTime:3e5},i[9]=s,i[10]=c,i[11]=u):u=i[11],l(u)};export{m as n,p as r,le as t};