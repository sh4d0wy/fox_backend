import{Bn as e,Kn as t,Wn as n,Yn as r,yn as i}from"./index-D8QSMleq.js";import{t as a}from"./Dropdown-WW39zxAv.js";import{s as o,u as s}from"./statsRoutes-Bdpsp3Sb.js";var c=r(n(),1);const l=({data:e,isLoading:t})=>(0,c.jsxs)(`div`,{className:`border relative border-gray-1100 min-h-[400px] rounded-[20px] w-full overflow-hidden`,children:[t&&(0,c.jsx)(`div`,{className:`absolute inset-0 flex items-center justify-center bg-white/50 z-10`,children:(0,c.jsx)(`p`,{className:`md:text-base text-sm font-medium text-center font-inter text-black-1000`,children:`Loading...`})}),!t&&e.length===0&&(0,c.jsx)(`div`,{className:`absolute inset-0 flex items-center justify-center`,children:(0,c.jsx)(`p`,{className:`md:text-base text-sm font-medium text-center font-inter text-black-1000`,children:`No data found`})}),(0,c.jsx)(`div`,{className:`overflow-auto`,children:(0,c.jsxs)(`table`,{className:`table md:w-full w-[767px]`,children:[(0,c.jsx)(`thead`,{className:`bg-gray-1300`,children:(0,c.jsxs)(`tr`,{children:[(0,c.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium px-6 py-7`,children:`Date`}),(0,c.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium`,children:(0,c.jsx)(`div`,{className:`pl-5 h-6 border-l border-gray-1600`,children:`Spent`})}),(0,c.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium`,children:(0,c.jsx)(`div`,{className:`pl-5 h-6 border-l border-gray-1600`,children:`Won`})}),(0,c.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium`,children:(0,c.jsx)(`div`,{className:`pl-5 h-6 border-l border-gray-1600`,children:`P&L`})}),(0,c.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium`,children:(0,c.jsx)(`div`,{className:`pl-5 h-6 border-l border-gray-1600`,children:`ROI`})})]})}),(0,c.jsx)(`tbody`,{children:e.map((t,n)=>{let[r,i]=t.date.includes(`|`)?t.date.split(`|`).map(e=>e.trim()):[t.date,``],a=typeof t.roi==`string`?parseFloat(t.roi.replace(`%`,``)):t.roi;return(0,c.jsxs)(`tr`,{className:`w-full ${n===e.length-1?``:`border-b border-gray-1100`}`,children:[(0,c.jsx)(`td`,{children:(0,c.jsx)(`div`,{className:`px-6 flex items-center gap-2.5 py-6`,children:(0,c.jsxs)(`p`,{className:`md:text-base text-sm text-black-1000 font-medium font-inter`,children:[r,` `,i&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(`span`,{className:`text-gray-1200 mx-1`,children:`|`}),` `,i]})]})})}),(0,c.jsx)(`td`,{children:(0,c.jsx)(`div`,{className:`px-5 flex items-center gap-2.5 py-6`,children:(0,c.jsxs)(`p`,{className:`md:text-base text-sm text-black-1000 font-medium font-inter`,children:[t.spent,` USDT`]})})}),(0,c.jsx)(`td`,{children:(0,c.jsx)(`div`,{className:`px-5 flex items-center gap-2.5 py-6`,children:(0,c.jsxs)(`p`,{className:`md:text-base text-sm text-black-1000 font-medium font-inter`,children:[t.won,` USDT`]})})}),(0,c.jsx)(`td`,{children:(0,c.jsx)(`div`,{className:`px-5 flex items-center gap-2.5 py-6`,children:(0,c.jsxs)(`p`,{className:`md:text-base text-sm font-medium font-inter ${t.pl>=0?`text-green-1000`:`text-red-1000`}`,children:[t.pl,` USDT`]})})}),(0,c.jsx)(`td`,{children:(0,c.jsx)(`div`,{className:`px-5 flex items-center gap-2.5 py-6`,children:(0,c.jsx)(`p`,{className:`md:text-base text-sm font-medium font-inter ${a>0?`text-green-1000`:`text-black-1000`}`,children:typeof t.roi==`string`?t.roi:`${t.roi}%`})})})]},n)})})]})})]}),u=({data:e,isLoading:t})=>(0,c.jsxs)(`div`,{className:`border relative border-gray-1100 min-h-[400px] rounded-[20px] w-full overflow-hidden`,children:[t&&(0,c.jsx)(`div`,{className:`absolute inset-0 flex items-center justify-center bg-white/50 z-10`,children:(0,c.jsx)(`p`,{className:`md:text-base text-sm font-medium text-center font-inter text-black-1000`,children:`Loading...`})}),!t&&e.length===0&&(0,c.jsx)(`div`,{className:`absolute inset-0 flex items-center justify-center`,children:(0,c.jsx)(`p`,{className:`md:text-base text-sm font-medium text-center font-inter text-black-1000`,children:`No data found`})}),(0,c.jsx)(`div`,{className:`overflow-auto`,children:(0,c.jsxs)(`table`,{className:`table md:w-full w-[767px]`,children:[(0,c.jsx)(`thead`,{className:`bg-gray-1300`,children:(0,c.jsxs)(`tr`,{children:[(0,c.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium px-6 py-7`,children:`Date`}),(0,c.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium`,children:(0,c.jsx)(`div`,{className:`pl-5 h-6 border-l border-gray-1600`,children:`Cost`})}),(0,c.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium`,children:(0,c.jsx)(`div`,{className:`pl-5 h-6 border-l border-gray-1600`,children:`Sold`})}),(0,c.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium`,children:(0,c.jsx)(`div`,{className:`pl-5 h-6 border-l border-gray-1600`,children:`P&L`})}),(0,c.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium`,children:(0,c.jsx)(`div`,{className:`pl-5 h-6 border-l border-gray-1600`,children:`ROI`})})]})}),(0,c.jsx)(`tbody`,{children:e.map((t,n)=>{let[r,i]=t.date.includes(`|`)?t.date.split(`|`).map(e=>e.trim()):[t.date,``],a=typeof t.roi==`string`?parseFloat(t.roi.replace(`%`,``)):t.roi;return(0,c.jsxs)(`tr`,{className:`w-full ${n===e.length-1?``:`border-b border-gray-1100`}`,children:[(0,c.jsx)(`td`,{children:(0,c.jsx)(`div`,{className:`px-6 flex items-center gap-2.5 py-6`,children:(0,c.jsxs)(`p`,{className:`md:text-base text-sm text-black-1000 font-medium font-inter`,children:[r,` `,i&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(`span`,{className:`text-gray-1200 mx-1`,children:`|`}),` `,i]})]})})}),(0,c.jsx)(`td`,{children:(0,c.jsx)(`div`,{className:`px-5 flex items-center gap-2.5 py-6`,children:(0,c.jsxs)(`p`,{className:`md:text-base text-sm text-black-1000 font-medium font-inter`,children:[parseFloat(t.spent.toFixed(6)),` USDT`]})})}),(0,c.jsx)(`td`,{children:(0,c.jsx)(`div`,{className:`px-5 flex items-center gap-2.5 py-6`,children:(0,c.jsxs)(`p`,{className:`md:text-base text-sm text-black-1000 font-medium font-inter`,children:[parseFloat(t.sold.toFixed(6)),` USDT`]})})}),(0,c.jsx)(`td`,{children:(0,c.jsx)(`div`,{className:`px-5 flex items-center gap-2.5 py-6`,children:(0,c.jsxs)(`p`,{className:`md:text-base text-sm font-medium font-inter ${t.pl>=0?`text-green-1000`:`text-red-1000`}`,children:[parseFloat(t.pl.toFixed(6)),` USDT`]})})}),(0,c.jsx)(`td`,{children:(0,c.jsx)(`div`,{className:`px-5 flex items-center gap-2.5 py-6`,children:(0,c.jsx)(`p`,{className:`md:text-base text-sm font-medium font-inter ${a>0?`text-green-1000`:`text-black-1000`}`,children:typeof t.roi==`string`?t.roi:`${t.roi}%`})})})]},n)})})]})})]});var d=new Date().getFullYear();const f=[{label:d.toString(),value:d.toString()},{label:(d-1).toString(),value:(d-1).toString()},{label:(d-2).toString(),value:(d-2).toString()},{label:(d-3).toString(),value:(d-3).toString()},{label:(d-4).toString(),value:(d-4).toString()},{label:(d-5).toString(),value:(d-5).toString()},{label:(d-6).toString(),value:(d-6).toString()},{label:(d-7).toString(),value:(d-7).toString()},{label:(d-8).toString(),value:(d-8).toString()},{label:(d-9).toString(),value:(d-9).toString()},{label:(d-10).toString(),value:(d-10).toString()}],p=i(e=>({timeframe:`daily`,setTimeframe:t=>e({timeframe:t}),year:new Date().getFullYear(),setYear:t=>e({year:t}),services:[{name:`Raffle`,active:!0},{name:`Gumball`,active:!1}],toggleService:(t,n)=>e(e=>({services:e.services.map(e=>e.name===t?{...e,active:n}:e)})),currency:`Raffle`,setCurrency:t=>e({currency:t})})),m=({title:e,items:t})=>(0,c.jsxs)(`div`,{className:`w-full`,children:[(0,c.jsx)(`h3`,{className:`text-[28px] font-semibold text-black-1000 font-inter pb-5`,children:e}),(0,c.jsx)(`div`,{className:`w-full md:gap-[60px] gap-5 grid md:grid-cols-5 grid-cols-3 py-6 px-5 rounded-[20px] border-primary-color border bg-primary-color/5`,children:t.map(e=>(0,c.jsxs)(`div`,{children:[(0,c.jsx)(`p`,{className:`text-sm mb-3 font-medium font-inter text-gray-1200`,children:e.label}),(0,c.jsx)(`h4`,{className:`text-base text-black-1000 font-inter font-medium`,children:e.value})]},e.label))})]}),h=({timeframe:t=`daily`,year:n=new Date().getFullYear()})=>({boughtPnl:e({queryKey:[`bought-pnl`,t,n],queryFn:async()=>await o({timeframe:t,month:new Date().getMonth()+1,year:n})}),soldPnl:e({queryKey:[`sold-pnl`,t,n],queryFn:async()=>await s({timeframe:t,month:new Date().getMonth()+1,year:n})})});t();var g=e=>e;function _(){let e=p(e=>e.timeframe),t=p(e=>e.setTimeframe),n=p(e=>e.year),r=p(e=>e.setYear);console.log(`timeframe`,e);let{boughtPnl:i,soldPnl:o}=h({timeframe:e,year:n});console.log(`boughtPnl`,i.data),console.log(`soldPnl`,o.data);let s=i.data?.summary?[{label:e===`daily`?`Month`:`Year`,value:i.data.summary.label||`-`},{label:`Spent`,value:`${i.data.summary.totalSpent??0} USDT `},{label:`Total won`,value:`${i.data.summary.totalWon??0} USDT `},{label:`P&L`,value:`${i.data.summary.pnl??0} USDT `},{label:`ROI`,value:i.data.summary.roi||`0%`}]:[{label:e===`daily`?`Month`:`Year`,value:`-`},{label:`Spent`,value:`0 USDT `},{label:`Total won`,value:`0 USDT `},{label:`P&L`,value:`0 USDT `},{label:`ROI`,value:`0%`}],d=o.data?.summary?[{label:e===`daily`?`Month`:`Year`,value:o.data.summary.label||`-`},{label:`Cost`,value:`${parseFloat(g(o.data.summary.totalCost??0).toFixed(6))} USDT `},{label:`Total sold`,value:`${parseFloat(g(o.data.summary.totalSold??0).toFixed(6))} USDT `},{label:`P&L`,value:`${parseFloat(g(o.data.summary.pnl??0).toFixed(6))} USDT `},{label:`ROI`,value:o.data.summary.roi||`0%`}]:[{label:e===`daily`?`Month`:`Year`,value:`-`},{label:`Cost`,value:`0 USDT `},{label:`Total Sold`,value:`0 USDT `},{label:`P&L`,value:`0 USDT `},{label:`ROI`,value:`0%`}],_=i.data?.data?.map(e=>({date:e.date,spent:e.spent,won:e.won,pl:e.pnl,roi:e.roi}))||[],v=o.data?.data?.map(e=>({date:e.date,spent:g(e.cost),sold:g(e.sold),pl:g(e.pnl),roi:e.roi}))||[];return console.log(`boughtTableData`,_),console.log(`soldTableData`,v),new Date().getFullYear(),(0,c.jsx)(`main`,{className:`w-full`,children:(0,c.jsx)(`section`,{className:`w-full max-w-[1280px] mx-auto pt-[60px] pb-[100px]`,children:(0,c.jsxs)(`div`,{className:`w-full max-w-[1440px] px-5 mx-auto`,children:[(0,c.jsx)(`div`,{className:`w-full flex md:flex-nowrap flex-wrap md:gap-0 gap-4 items-center justify-between mb-7`,children:(0,c.jsx)(`h1`,{className:`text-[28px] font-semibold text-black-1000 font-inter`,children:`Raffle Profit/Loss`})}),(0,c.jsx)(`div`,{className:`w-full pb-[30px] border-b border-gray-1100`,children:(0,c.jsx)(`div`,{className:`w-full flex items-center md:gap-0 gap-5 md:flex-nowrap flex-wrap max-w-[1078px]`,children:(0,c.jsxs)(`div`,{className:`flex-1`,children:[(0,c.jsx)(`p`,{className:`text-sm text-gray-1200 font-medium font-inter mb-6`,children:`Timeframe`}),(0,c.jsx)(`div`,{className:`w-full flex items-center`,children:(0,c.jsxs)(`div`,{className:`w-full md:flex-nowrap flex-wrap md:gap-5 gap-5 flex items-center`,children:[(0,c.jsx)(`ul`,{className:`flex items-center gap-5 `,children:[`Daily`,`Monthly`,`Yearly`].map(n=>(0,c.jsx)(`li`,{children:(0,c.jsx)(`button`,{className:`md:text-base text-sm cursor-pointer font-inter font-medium transition duration-300 hover:bg-primary-color text-black-1000 rounded-full py-3.5 px-5 ${e===n.toLowerCase()?`bg-primary-color`:`bg-gray-1400`}`,onClick:()=>t(n.toLowerCase()),children:n})},n))}),e!==`yearly`&&(0,c.jsx)(a,{options:f,value:{label:n.toString(),value:n.toString()},onChange:e=>{r(parseInt(e.value))}})]})})]})})}),(0,c.jsxs)(`div`,{className:`w-full pt-10 grid md:grid-cols-2 gap-5 pb-10`,children:[(0,c.jsx)(m,{title:`Bought`,items:s}),(0,c.jsx)(m,{title:`Sold`,items:d})]}),(0,c.jsxs)(`div`,{className:`w-full grid md:grid-cols-2 gap-5 pb-10`,children:[(0,c.jsx)(l,{data:_,isLoading:i.isLoading}),(0,c.jsx)(u,{data:v,isLoading:o.isLoading})]})]})})})}export{_ as component};