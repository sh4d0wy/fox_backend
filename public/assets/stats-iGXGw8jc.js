import{Et as e,Gn as t,Mt as n,Nt as r,P as i,Pt as a,St as o,Xn as s,jt as c,or as l,qn as u,rr as d,tr as f,wt as p}from"./index-B3aWA6vM.js";import{c as m,l as h}from"./statsRoutes-CG-2VgRT.js";var g=l(t(),1),_=l(d(),1),v=l(f(),1);function y(e){let t=(0,g.c)(19),{columns:n,data:r,rowKey:i,className:a}=e,o=`bg-black-1300 p-3 rounded-[20px] w-full overflow-x-auto 2xl:overflow-hidden ${a??``}`,s;t[0]===n?s=t[1]:(s=n.map(b),t[0]=n,t[1]=s);let c;t[2]===s?c=t[3]:(c=(0,v.jsx)(`thead`,{className:`relative`,children:(0,v.jsx)(`tr`,{className:`flex-1`,children:s})}),t[2]=s,t[3]=c);let l;if(t[4]!==n||t[5]!==r||t[6]!==i){let e;t[8]!==n||t[9]!==i?(e=e=>(0,v.jsx)(`tr`,{className:`flex-1 relative`,children:n.map(t=>(0,v.jsxs)(`td`,{className:``,children:[(0,v.jsx)(`div`,{className:`bg-black-1400 absolute left-0 h-[85%] top-2 w-full rounded-xl z-0`}),(0,v.jsx)(`div`,{className:`md:pl-10 pl-4 pr-4 text-sm md:text-base relative z-10 text-white font-medium font-inter w-full flex items-center gap-2.5 h-20`,children:t.render?t.render(e):e[t.key]})]},String(t.key)))},i(e)),t[8]=n,t[9]=i,t[10]=e):e=t[10],l=r.map(e),t[4]=n,t[5]=r,t[6]=i,t[7]=l}else l=t[7];let u;t[11]===l?u=t[12]:(u=(0,v.jsx)(`tbody`,{children:l}),t[11]=l,t[12]=u);let d;t[13]!==c||t[14]!==u?(d=(0,v.jsxs)(`table`,{className:`table md:w-full w-[700px]`,children:[c,u]}),t[13]=c,t[14]=u,t[15]=d):d=t[15];let f;return t[16]!==o||t[17]!==d?(f=(0,v.jsx)(`div`,{className:o,children:d}),t[16]=o,t[17]=d,t[18]=f):f=t[18],f}function b(e,t){return(0,v.jsxs)(`th`,{className:`
                    text-base text-start font-inter text-white font-medium px-2.5 2xl:px-5 py-4
                    ${e.className??``}`,children:[(0,v.jsx)(`div`,{className:`bg-gray-1000 absolute left-0 h-[94%] w-full rounded-t-xl top-0 z-0`}),(0,v.jsx)(`div`,{className:` pl-5 h-6 relative z-10`,children:e.header})]},String(e.key))}var x=l(t(),1);const S=e=>{let t=(0,x.c)(9),{timeframe:n,sortFilter:r}=e,i;t[0]!==r||t[1]!==n?(i={queryKey:[`raffler-leaderboard`,n,r],queryFn:async()=>await h({timeframe:n,sortFilter:r})},t[0]=r,t[1]=n,t[2]=i):i=t[2];let a=s(i),o;t[3]!==r||t[4]!==n?(o={queryKey:[`raffle-buyer-leaderboard`,n,r],queryFn:async()=>await m({timeframe:n,sortFilter:r})},t[3]=r,t[4]=n,t[5]=o):o=t[5];let c=s(o),l;return t[6]!==c||t[7]!==a?(l={rafflerLeaderboard:a,raffleBuyerLeaderboard:c},t[6]=c,t[7]=a,t[8]=l):l=t[8],l};var C=l(t(),1);function w(e){let t=(0,C.c)(18),{options:n,value:i,placeholder:o,onChange:s,className:l}=e,d=i===void 0?null:i,f=o===void 0?`Select option...`:o,[p,m]=(0,_.useState)(d),h,g;t[0]===d?(h=t[1],g=t[2]):(h=()=>{m(d)},g=[d],t[0]=d,t[1]=h,t[2]=g),(0,_.useEffect)(h,g);let y;t[3]===s?y=t[4]:(y=e=>{m(e),s?.(e)},t[3]=s,t[4]=y);let b=y,x;t[5]===l?x=t[6]:(x=u(`relative md:w-auto w-full`,l),t[5]=l,t[6]=x);let S=p,w;t[7]!==n||t[8]!==f||t[9]!==p?(w=e=>{let{open:t}=e;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(a,{className:u(`relative block w-full transition duration-300 cursor-pointer rounded-full md:py-3 py-2 md:pr-12 pr-8 pl-5 h-12 outline outline-gray-1100`,`text-left font-inter font-medium md:text-base text-sm`,t&&``),children:[p?(0,v.jsx)(`span`,{className:`text-white`,children:p.label}):(0,v.jsx)(`span`,{className:`text-white`,children:f}),(0,v.jsx)(`span`,{className:`pointer-events-none absolute top-4 right-5 size-5`,"aria-hidden":`true`,children:(0,v.jsx)(`svg`,{width:20,height:20,viewBox:`0 0 16 16`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`,children:(0,v.jsx)(`path`,{d:`M12.6693 6L8.0026 10.6667L3.33594 6`,stroke:`#fff`,strokeWidth:`1.5`,strokeLinecap:`round`,strokeLinejoin:`round`})})})]}),(0,v.jsx)(c,{anchor:`bottom`,transition:!0,className:u(`w-fit  z-30 shadow-lg max-h-[400px]! rounded-b-[10px] overflow-hidden bg-black-1400`,`[--anchor-gap:--spacing(1)] focus:outline-none`,`transition duration-100 ease-in data-leave:data-closed:opacity-0`),children:n.map(T)})]})},t[7]=n,t[8]=f,t[9]=p,t[10]=w):w=t[10];let E;t[11]!==b||t[12]!==S||t[13]!==w?(E=(0,v.jsx)(r,{value:S,onChange:b,children:w}),t[11]=b,t[12]=S,t[13]=w,t[14]=E):E=t[14];let D;return t[15]!==x||t[16]!==E?(D=(0,v.jsx)(`div`,{className:x,children:E}),t[15]=x,t[16]=E,t[17]=D):D=t[17],D}function T(e){return(0,v.jsx)(n,{value:e,className:u(`group flex cursor-default transition font-inter font-medium duration-300`,`data-[selected]:bg-primary-color data-[selected]:text-black-1300`,`data-[focus]:bg-primary-color/50`,`items-center gap-2 text-white px-6 py-3 select-none`),children:e.label},e.label)}var E=l(t()),D=[{label:`Raffles created`,value:`raffles`},{label:`Tickets Sold`,value:`tickets`},{label:`Volume`,value:`volume`}],O=[{label:`All Time`,value:`all`},{label:`7D`,value:`7d`},{label:`30D`,value:`30d`},{label:`90D`,value:`90d`},{label:`1Y`,value:`1y`}],k=[{key:`rank`,header:`Rank`,render:e=>(0,v.jsx)(`p`,{className:`text-base text-white font-medium font-inter`,children:e.rank})},{key:`user`,header:`User`,render:e=>(0,v.jsxs)(`div`,{className:`flex items-center gap-2`,children:[e.avatar&&(0,v.jsx)(`img`,{src:e.avatar,className:`w-8 h-8 rounded-full object-cover`,alt:e.user}),(0,v.jsx)(`span`,{className:`text-base text-white font-medium font-inter `,children:e.user})]})},{key:`raffles`,header:`Raffles`},{key:`tickets`,header:`Tickets Sold`},{key:`volume`,header:`Volume (USDT)`}],A=e=>{if(e===1)return`/images/ranked-1.svg`;if(e===2)return`/images/ranked-2.svg`;if(e===3)return`/images/ranked-3.svg`},j=e=>e.toString(),M=e=>`${e.slice(0,4)}...${e.slice(-4)}`,N=e=>e?.leaderboard?e.leaderboard.map(e=>({rank:String(e.rank).padStart(2,`0`),avatar:A(e.rank),user:e.twitterId?`@${e.twitterId}`:M(e.walletAddress),raffles:e.raffles,tickets:e.ticketsSold,volume:j(e.volume)})):[],P=e=>e?.leaderboard?e.leaderboard.map(e=>({rank:String(e.rank).padStart(2,`0`),avatar:A(e.rank),user:e.twitterId?`@${e.twitterId}`:M(e.walletAddress),raffles:e.raffles,tickets:e.tickets,volume:j(e.volume)})):[];function F(){let t=(0,E.c)(46),{activeTab:n,setActiveTab:r,timeFilter:a,sortFilter:s,setTimeFilter:c,setSortFilter:l}=o(),u;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(u=[`Top Rafflers`,`Top Buyers`],t[0]=u):u=t[0];let d=u,f;t[1]!==s.value||t[2]!==a.value?(f={timeframe:a.value,sortFilter:s.value},t[1]=s.value,t[2]=a.value,t[3]=f):f=t[3];let{rafflerLeaderboard:m,raffleBuyerLeaderboard:h}=S(f),g;t[4]===m.data?g=t[5]:(g=N(m.data),t[4]=m.data,t[5]=g);let _=g,b;t[6]===h.data?b=t[7]:(b=P(h.data),t[6]=h.data,t[7]=b);let x=b,C,T,A,j;t[8]===Symbol.for(`react.memo_cache_sentinel`)?(C={opacity:0,y:100},T={opacity:1,y:0},A={opacity:0,y:-100},j={duration:.3},t[8]=C,t[9]=T,t[10]=A,t[11]=j):(C=t[8],T=t[9],A=t[10],j=t[11]);let M;t[12]===Symbol.for(`react.memo_cache_sentinel`)?(M=(0,v.jsx)(`div`,{className:`w-full flex flex-wrap gap-6 items-center justify-between mb-10`,children:(0,v.jsxs)(`div`,{className:``,children:[(0,v.jsx)(`h1`,{className:`text-[28px] font-semibold text-white font-inter mb-1`,children:`Leaderboard`}),(0,v.jsx)(`p`,{className:`text-base text-cream-1000 font-inter`,children:`Track your trading performance`})]})}),t[12]=M):M=t[12];let F;t[13]!==n||t[14]!==r?(F=(0,v.jsx)(`ul`,{className:`md:inline-flex flex md:flex-initial flex-1 items-center bg-white/15 backdrop-blur-[27px] rounded-[40px] p-1 md:gap-3 gap-1.5`,children:d.map(e=>(0,v.jsx)(`li`,{className:`flex-1 sm:flex-none`,children:(0,v.jsx)(`button`,{onClick:()=>r(e),className:`md:text-base text-sm md:w-auto w-full cursor-pointer font-inter font-medium transition duration-300 hover:bg-primary-color hover:text-black-1000 text-white rounded-full py-2.5 md:py-3 md:px-5 px-3
                          ${n===e?`bg-primary-color !text-black-1000`:``}
                        `,children:e})},e))}),t[13]=n,t[14]=r,t[15]=F):F=t[15];let R;t[16]===c?R=t[17]:(R=e=>{c(e)},t[16]=c,t[17]=R);let z;t[18]!==R||t[19]!==a?(z=(0,v.jsx)(w,{options:O,value:a,onChange:R}),t[18]=R,t[19]=a,t[20]=z):z=t[20];let B;t[21]===l?B=t[22]:(B=e=>{l(e)},t[21]=l,t[22]=B);let V;t[23]!==s||t[24]!==B?(V=(0,v.jsx)(w,{options:D,value:s,onChange:B}),t[23]=s,t[24]=B,t[25]=V):V=t[25];let H;t[26]!==z||t[27]!==V?(H=(0,v.jsxs)(`div`,{className:`flex items-center sm:flex-row flex-col justify-center gap-3 md:gap-5 md:w-auto w-full`,children:[z,V]}),t[26]=z,t[27]=V,t[28]=H):H=t[28];let U;t[29]!==H||t[30]!==F?(U=(0,v.jsxs)(`div`,{className:`w-full flex md:bg-primary-color/15 rounded-full p-2 items-center justify-between gap-5 mb-10 md:flex-nowrap flex-wrap`,children:[F,H]}),t[29]=H,t[30]=F,t[31]=U):U=t[31];let W;t[32]!==n||t[33]!==m.isLoading||t[34]!==_?(W=n===`Top Rafflers`&&(_.length>0?(0,v.jsx)(y,{columns:k,data:_,rowKey:L}):m.isLoading?(0,v.jsx)(`div`,{className:`flex items-center justify-center h-full`,children:(0,v.jsx)(e,{className:`w-10 h-10 animate-spin text-primary-color`})}):(0,v.jsx)(i,{})),t[32]=n,t[33]=m.isLoading,t[34]=_,t[35]=W):W=t[35];let G;t[36]!==n||t[37]!==x||t[38]!==h.isLoading?(G=n===`Top Buyers`&&(x.length>0?(0,v.jsx)(y,{columns:k,data:x,rowKey:I}):h.isLoading?(0,v.jsx)(`div`,{className:`flex items-center justify-center h-full`,children:(0,v.jsx)(e,{className:`w-10 h-10 animate-spin text-primary-color`})}):(0,v.jsx)(i,{})),t[36]=n,t[37]=x,t[38]=h.isLoading,t[39]=G):G=t[39];let K;t[40]!==W||t[41]!==G?(K=(0,v.jsx)(`div`,{className:`w-full flex items-start gap-5 xl:flex-row flex-col`,children:(0,v.jsx)(`div`,{className:`w-full flex-1 max-w-full`,children:(0,v.jsxs)(`div`,{className:`relative z-10 md:mt-8 mt-4`,children:[W,G]})})}),t[40]=W,t[41]=G,t[42]=K):K=t[42];let q;return t[43]!==U||t[44]!==K?(q=(0,v.jsx)(`main`,{className:`w-full bg-black-1400`,children:(0,v.jsx)(p.section,{initial:C,animate:T,exit:A,transition:j,className:`w-full md:pt-48 pt-36 pb-20 xl:pb-[100px]`,children:(0,v.jsxs)(`div`,{className:`w-full max-w-[1440px] px-5 mx-auto`,children:[M,U,K]})})}),t[43]=U,t[44]=K,t[45]=q):q=t[45],q}function I(e){return e.user}function L(e){return e.user}export{F as component};