import{Bn as e,Kn as t,On as n,Wn as r,Yn as i,yn as a}from"./index-DxVpHET3.js";import{t as o}from"./Dropdown-BzvMiHQh.js";import{s,u as c}from"./statsRoutes-DfhGI0Nb.js";var l=i(r(),1);const u=({data:e,isLoading:t})=>(0,l.jsxs)(`div`,{className:`border relative border-gray-1100 min-h-[400px] rounded-[20px] w-full overflow-hidden`,children:[t&&(0,l.jsx)(`div`,{className:`absolute inset-0 flex items-center justify-center bg-white/50 z-10`,children:(0,l.jsx)(`p`,{className:`md:text-base text-sm font-medium text-center font-inter text-black-1000`,children:`Loading...`})}),!t&&e.length===0&&(0,l.jsx)(`div`,{className:`absolute inset-0 flex items-center justify-center`,children:(0,l.jsx)(`p`,{className:`md:text-base text-sm font-medium text-center font-inter text-black-1000`,children:`No data found`})}),(0,l.jsx)(`div`,{className:`overflow-auto`,children:(0,l.jsxs)(`table`,{className:`table md:w-full w-[767px]`,children:[(0,l.jsx)(`thead`,{className:`bg-gray-1300`,children:(0,l.jsxs)(`tr`,{children:[(0,l.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium px-6 py-7`,children:`Date`}),(0,l.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium`,children:(0,l.jsx)(`div`,{className:`pl-5 h-6 border-l border-gray-1600`,children:`Spent`})}),(0,l.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium`,children:(0,l.jsx)(`div`,{className:`pl-5 h-6 border-l border-gray-1600`,children:`Won`})}),(0,l.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium`,children:(0,l.jsx)(`div`,{className:`pl-5 h-6 border-l border-gray-1600`,children:`P&L`})}),(0,l.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium`,children:(0,l.jsx)(`div`,{className:`pl-5 h-6 border-l border-gray-1600`,children:`ROI`})})]})}),(0,l.jsx)(`tbody`,{children:e.map((t,n)=>{let[r,i]=t.date.includes(`|`)?t.date.split(`|`).map(e=>e.trim()):[t.date,``],a=typeof t.roi==`string`?parseFloat(t.roi.replace(`%`,``)):t.roi;return(0,l.jsxs)(`tr`,{className:`w-full ${n===e.length-1?``:`border-b border-gray-1100`}`,children:[(0,l.jsx)(`td`,{children:(0,l.jsx)(`div`,{className:`px-6 flex items-center gap-2.5 py-6`,children:(0,l.jsxs)(`p`,{className:`md:text-base text-sm text-black-1000 font-medium font-inter`,children:[r,` `,i&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(`span`,{className:`text-gray-1200 mx-1`,children:`|`}),` `,i]})]})})}),(0,l.jsx)(`td`,{children:(0,l.jsx)(`div`,{className:`px-5 flex items-center gap-2.5 py-6`,children:(0,l.jsxs)(`p`,{className:`md:text-base text-sm text-black-1000 font-medium font-inter`,children:[t.spent,` USDT`]})})}),(0,l.jsx)(`td`,{children:(0,l.jsx)(`div`,{className:`px-5 flex items-center gap-2.5 py-6`,children:(0,l.jsxs)(`p`,{className:`md:text-base text-sm text-black-1000 font-medium font-inter`,children:[t.won,` USDT`]})})}),(0,l.jsx)(`td`,{children:(0,l.jsx)(`div`,{className:`px-5 flex items-center gap-2.5 py-6`,children:(0,l.jsxs)(`p`,{className:`md:text-base text-sm font-medium font-inter ${t.pl>=0?`text-green-1000`:`text-red-1000`}`,children:[t.pl,` USDT`]})})}),(0,l.jsx)(`td`,{children:(0,l.jsx)(`div`,{className:`px-5 flex items-center gap-2.5 py-6`,children:(0,l.jsx)(`p`,{className:`md:text-base text-sm font-medium font-inter ${a>0?`text-green-1000`:`text-black-1000`}`,children:typeof t.roi==`string`?t.roi:`${t.roi}%`})})})]},n)})})]})})]}),d=({data:e,isLoading:t})=>(0,l.jsxs)(`div`,{className:`border relative border-gray-1100 min-h-[400px] rounded-[20px] w-full overflow-hidden`,children:[t&&(0,l.jsx)(`div`,{className:`absolute inset-0 flex items-center justify-center bg-white/50 z-10`,children:(0,l.jsx)(`p`,{className:`md:text-base text-sm font-medium text-center font-inter text-black-1000`,children:`Loading...`})}),!t&&e.length===0&&(0,l.jsx)(`div`,{className:`absolute inset-0 flex items-center justify-center`,children:(0,l.jsx)(`p`,{className:`md:text-base text-sm font-medium text-center font-inter text-black-1000`,children:`No data found`})}),(0,l.jsx)(`div`,{className:`overflow-auto`,children:(0,l.jsxs)(`table`,{className:`table md:w-full w-[767px]`,children:[(0,l.jsx)(`thead`,{className:`bg-gray-1300`,children:(0,l.jsxs)(`tr`,{children:[(0,l.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium px-6 py-7`,children:`Date`}),(0,l.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium`,children:(0,l.jsx)(`div`,{className:`pl-5 h-6 border-l border-gray-1600`,children:`Cost`})}),(0,l.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium`,children:(0,l.jsx)(`div`,{className:`pl-5 h-6 border-l border-gray-1600`,children:`Sold`})}),(0,l.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium`,children:(0,l.jsx)(`div`,{className:`pl-5 h-6 border-l border-gray-1600`,children:`P&L`})}),(0,l.jsx)(`th`,{className:`md:text-base text-sm text-start font-inter text-gray-1600 font-medium`,children:(0,l.jsx)(`div`,{className:`pl-5 h-6 border-l border-gray-1600`,children:`ROI`})})]})}),(0,l.jsx)(`tbody`,{children:e.map((t,n)=>{let[r,i]=t.date.includes(`|`)?t.date.split(`|`).map(e=>e.trim()):[t.date,``],a=typeof t.roi==`string`?parseFloat(t.roi.replace(`%`,``)):t.roi;return(0,l.jsxs)(`tr`,{className:`w-full ${n===e.length-1?``:`border-b border-gray-1100`}`,children:[(0,l.jsx)(`td`,{children:(0,l.jsx)(`div`,{className:`px-6 flex items-center gap-2.5 py-6`,children:(0,l.jsxs)(`p`,{className:`md:text-base text-sm text-black-1000 font-medium font-inter`,children:[r,` `,i&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(`span`,{className:`text-gray-1200 mx-1`,children:`|`}),` `,i]})]})})}),(0,l.jsx)(`td`,{children:(0,l.jsx)(`div`,{className:`px-5 flex items-center gap-2.5 py-6`,children:(0,l.jsxs)(`p`,{className:`md:text-base text-sm text-black-1000 font-medium font-inter`,children:[parseFloat(t.spent.toFixed(6)),` USDT`]})})}),(0,l.jsx)(`td`,{children:(0,l.jsx)(`div`,{className:`px-5 flex items-center gap-2.5 py-6`,children:(0,l.jsxs)(`p`,{className:`md:text-base text-sm text-black-1000 font-medium font-inter`,children:[parseFloat(t.sold.toFixed(6)),` USDT`]})})}),(0,l.jsx)(`td`,{children:(0,l.jsx)(`div`,{className:`px-5 flex items-center gap-2.5 py-6`,children:(0,l.jsxs)(`p`,{className:`md:text-base text-sm font-medium font-inter ${t.pl>=0?`text-green-1000`:`text-red-1000`}`,children:[parseFloat(t.pl.toFixed(6)),` USDT`]})})}),(0,l.jsx)(`td`,{children:(0,l.jsx)(`div`,{className:`px-5 flex items-center gap-2.5 py-6`,children:(0,l.jsx)(`p`,{className:`md:text-base text-sm font-medium font-inter ${a>0?`text-green-1000`:`text-black-1000`}`,children:typeof t.roi==`string`?t.roi:`${t.roi}%`})})})]},n)})})]})})]});var f=new Date().getFullYear();const p=[{label:f.toString(),value:f.toString()},{label:(f-1).toString(),value:(f-1).toString()},{label:(f-2).toString(),value:(f-2).toString()},{label:(f-3).toString(),value:(f-3).toString()},{label:(f-4).toString(),value:(f-4).toString()},{label:(f-5).toString(),value:(f-5).toString()},{label:(f-6).toString(),value:(f-6).toString()},{label:(f-7).toString(),value:(f-7).toString()},{label:(f-8).toString(),value:(f-8).toString()},{label:(f-9).toString(),value:(f-9).toString()},{label:(f-10).toString(),value:(f-10).toString()}],m=a(e=>({timeframe:`daily`,setTimeframe:t=>e({timeframe:t}),year:new Date().getFullYear(),setYear:t=>e({year:t}),services:[{name:`Raffle`,active:!0},{name:`Gumball`,active:!1}],toggleService:(t,n)=>e(e=>({services:e.services.map(e=>e.name===t?{...e,active:n}:e)})),currency:`Raffle`,setCurrency:t=>e({currency:t})})),h=({title:e,items:t})=>(0,l.jsxs)(`div`,{className:`w-full`,children:[(0,l.jsx)(`h3`,{className:`text-[28px] font-semibold text-black-1000 font-inter pb-5`,children:e}),(0,l.jsx)(`div`,{className:`w-full md:gap-[60px] gap-5 grid md:grid-cols-5 grid-cols-3 py-6 px-5 rounded-[20px] border-primary-color border bg-primary-color/5`,children:t.map(e=>(0,l.jsxs)(`div`,{children:[(0,l.jsx)(`p`,{className:`text-sm mb-3 font-medium font-inter text-gray-1200`,children:e.label}),(0,l.jsx)(`h4`,{className:`text-base text-black-1000 font-inter font-medium`,children:e.value})]},e.label))})]}),g=({timeframe:t=`daily`,year:n=new Date().getFullYear()})=>({boughtPnl:e({queryKey:[`bought-pnl`,t,n],queryFn:async()=>await s({timeframe:t,month:new Date().getMonth()+1,year:n})}),soldPnl:e({queryKey:[`sold-pnl`,t,n],queryFn:async()=>await c({timeframe:t,month:new Date().getMonth()+1,year:n})})});t();var _=e=>e;function v(){let e=m(e=>e.timeframe),t=m(e=>e.setTimeframe),r=m(e=>e.year),i=m(e=>e.setYear);console.log(`timeframe`,e);let{boughtPnl:a,soldPnl:s}=g({timeframe:e,year:r});console.log(`boughtPnl`,a.data),console.log(`soldPnl`,s.data);let c=a.data?.summary?[{label:e===`daily`?`Month`:`Year`,value:a.data.summary.label||`-`},{label:`Spent`,value:`${a.data.summary.totalSpent??0} USDT `},{label:`Total won`,value:`${a.data.summary.totalWon??0} USDT `},{label:`P&L`,value:`${a.data.summary.pnl??0} USDT `},{label:`ROI`,value:a.data.summary.roi||`0%`}]:[{label:e===`daily`?`Month`:`Year`,value:`-`},{label:`Spent`,value:`0 USDT `},{label:`Total won`,value:`0 USDT `},{label:`P&L`,value:`0 USDT `},{label:`ROI`,value:`0%`}],f=s.data?.summary?[{label:e===`daily`?`Month`:`Year`,value:s.data.summary.label||`-`},{label:`Cost`,value:`${parseFloat(_(s.data.summary.totalCost??0).toFixed(6))} USDT `},{label:`Total sold`,value:`${parseFloat(_(s.data.summary.totalSold??0).toFixed(6))} USDT `},{label:`P&L`,value:`${parseFloat(_(s.data.summary.pnl??0).toFixed(6))} USDT `},{label:`ROI`,value:s.data.summary.roi||`0%`}]:[{label:e===`daily`?`Month`:`Year`,value:`-`},{label:`Cost`,value:`0 USDT `},{label:`Total Sold`,value:`0 USDT `},{label:`P&L`,value:`0 USDT `},{label:`ROI`,value:`0%`}],v=a.data?.data?.map(e=>({date:e.date,spent:e.spent,won:e.won,pl:e.pnl,roi:e.roi}))||[],y=s.data?.data?.map(e=>({date:e.date,spent:_(e.cost),sold:_(e.sold),pl:_(e.pnl),roi:e.roi}))||[];console.log(`boughtTableData`,v),console.log(`soldTableData`,y),new Date().getFullYear();let{publicKey:b}=n();return(0,l.jsx)(`main`,{className:`w-full`,children:(0,l.jsx)(`section`,{className:`w-full max-w-[1280px] mx-auto pt-[60px] pb-[100px]`,children:(0,l.jsxs)(`div`,{className:`w-full max-w-[1440px] px-5 mx-auto`,children:[(0,l.jsx)(`div`,{className:`w-full flex md:flex-nowrap flex-wrap md:gap-0 gap-4 items-center justify-between mb-7`,children:(0,l.jsx)(`h1`,{className:`text-[28px] font-semibold text-black-1000 font-inter`,children:`Raffle Profit/Loss`})}),(0,l.jsx)(`div`,{className:`w-full pb-[30px] border-b border-gray-1100`,children:(0,l.jsx)(`div`,{className:`w-full flex items-center md:gap-0 gap-5 md:flex-nowrap flex-wrap max-w-[1078px]`,children:(0,l.jsxs)(`div`,{className:`flex-1`,children:[(0,l.jsx)(`p`,{className:`text-sm text-gray-1200 font-medium font-inter mb-6`,children:`Timeframe`}),(0,l.jsx)(`div`,{className:`w-full flex items-center`,children:(0,l.jsxs)(`div`,{className:`w-full md:flex-nowrap flex-wrap md:gap-5 gap-5 flex items-center`,children:[(0,l.jsx)(`ul`,{className:`flex items-center gap-5 `,children:[`Daily`,`Monthly`,`Yearly`].map(n=>(0,l.jsx)(`li`,{children:(0,l.jsx)(`button`,{className:`md:text-base text-sm cursor-pointer font-inter font-medium transition duration-300 hover:bg-primary-color text-black-1000 rounded-full py-3.5 px-5 ${e===n.toLowerCase()?`bg-primary-color`:`bg-gray-1400`}`,onClick:()=>t(n.toLowerCase()),children:n})},n))}),e!==`yearly`&&(0,l.jsx)(o,{options:p,value:{label:r.toString(),value:r.toString()},onChange:e=>{i(parseInt(e.value))}})]})})]})})}),b&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(`div`,{className:`w-full pt-10 grid md:grid-cols-2 gap-5 pb-10`,children:[(0,l.jsx)(h,{title:`Bought`,items:c}),(0,l.jsx)(h,{title:`Sold`,items:f})]}),(0,l.jsxs)(`div`,{className:`w-full grid md:grid-cols-2 gap-5 pb-10`,children:[(0,l.jsx)(u,{data:v,isLoading:a.isLoading}),(0,l.jsx)(d,{data:y,isLoading:s.isLoading})]})]}),!b&&(0,l.jsx)(`div`,{className:`w-full flex items-center justify-center`,children:(0,l.jsx)(`h4`,{className:`text-sm text-black-1000 px-5 py-19 w-full text-center rounded-lg border border-gray-1200 font-medium font-inter`,children:`Please connect your wallet to view your profit/loss`})})]})})})}export{v as component};