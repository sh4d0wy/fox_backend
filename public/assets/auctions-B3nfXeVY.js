import{A as e,J as t,Ln as n,M as r,N as i,P as a,U as o,Vn as s,W as c,Wn as l,X as u,Y as d,_n as f,q as p,vn as m,zn as h}from"./index-0jW2jS97.js";import"./auctionRoutes-CnMSTSZH.js";import{n as g}from"./useAuctionsQuery-BQ8ZFaSh.js";import{t as _}from"./NoAuctions-CrLgFXlD.js";import{n as v,t as y}from"./aucations-data-DeyrX6CE.js";var b=l(s());const x=m(e=>({aucations:y,setAucations:t=>e({aucations:t}),filter:`All Auctions`,setFilter:t=>e({filter:t}),enabled1:!1,enabled2:!1,isOpen:!1,setEnabled1:t=>e({enabled1:t}),setEnabled2:t=>e({enabled2:t}),openModal:()=>e({isOpen:!0}),closeModal:()=>e({isOpen:!1}),endDate:null,hours:null,setEndDate:t=>e({endDate:t}),setHours:t=>e({hours:t})}));var S=l(h()),C=[{label:`Recently Added`,value:`Recently Added`},{label:`Expiring Soon`,value:`Expiring Soon`},{label:`Price: Low to High`,value:`Price: Low to High`},{label:`Price: High to Low`,value:`Price: High to Low`},{label:`Floor: Low to High`,value:`Floor: Low to High`},{label:`Floor: High to Low`,value:`Floor: High to Low`}];function w(){let{filter:s,setFilter:l}=x(),{data:m,fetchNextPage:h,hasNextPage:y,isLoading:w}=g(s),{sort:T,setSort:E,searchQuery:D,setSearchQuery:O}=f(),{raffleType:k,selectedToken:A,selectedCollection:j,floorMin:M,floorMax:N,endTimeAfter:P,endTimeBefore:F,filtersApplied:I,clearFilter:L,resetFilters:R,setPageType:z}=c();(0,b.useEffect)(()=>{z(`auctions`)},[z]);let B=(0,b.useMemo)(()=>({raffleType:k,selectedToken:A,selectedCollection:j,floorMin:M,floorMax:N,endTimeAfter:P,endTimeBefore:F}),[k,A,j,M,N,P,F]),V=(0,b.useMemo)(()=>r(B,`auctions`),[B]),H=i(B,`auctions`),U=(0,b.useMemo)(()=>{let t=m?.pages.flatMap(e=>e.items)||[];if(D.trim()){let e=D.toLowerCase().trim();t=t.filter(t=>t.prizeName?.toLowerCase().includes(e))}return I&&H&&(t=e(t,B)),T&&T!==`Sort`&&(t=a(t,T)),t},[m,D,T,I,H,B]);return(0,b.useEffect)(()=>{O(``)},[]),(0,S.jsx)(`main`,{className:`main font-inter`,children:(0,S.jsx)(`section`,{className:`w-full lg:pt-[60px] pt-5 pb-20 md:pb-[120px]`,children:(0,S.jsxs)(`div`,{className:`w-full max-w-[1440px] px-5 mx-auto`,children:[(0,S.jsxs)(`div`,{className:`w-full flex items-center justify-between gap-5 lg:gap-10 flex-wrap`,children:[(0,S.jsx)(`ul`,{className:`flex items-center gap-3 md:gap-5 md:w-auto w-full`,children:[`All Auctions`,`Past Auctions`].map((e,t)=>(0,S.jsx)(`li`,{className:`flex-1 md:flex-auto`,children:(0,S.jsxs)(`button`,{onClick:()=>l(e),className:`md:text-base text-sm md:w-auto w-full cursor-pointer font-inter font-medium transition duration-300 hover:bg-primary-color text-black-1000 rounded-full py-2.5 md:py-3.5 px-5
                      ${s===e?`bg-primary-color`:`bg-gray-1400`}`,children:[` `,e]})},t))}),(0,S.jsxs)(`div`,{className:`flex justify-start lg:justify-end gap-3.5 md:gap-5`,children:[(0,S.jsx)(t,{placeholder:`Search auctions...`,value:D,onSearch:e=>{O(e)}}),(0,S.jsx)(d,{options:C,selected:T,onChange:e=>{E(e),console.log(`Selected sort option:`,e)}}),(0,S.jsx)(o,{})]})]}),(0,S.jsx)(`div`,{className:`lg:py-10 py-5 overflow-x-auto flex gap-4`,children:(0,S.jsx)(`div`,{className:`${H?`flex`:`hidden`} items-center gap-4`,children:H&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(`p`,{className:`md:text-base text-sm whitespace-nowrap font-black-1000 font-semibold font-inter`,children:`Filters :`}),(0,S.jsxs)(`ul`,{className:`flex items-center gap-4`,children:[(0,S.jsx)(`li`,{children:(0,S.jsxs)(`div`,{className:`border group hover:border-black-1000 transition duration-200 h-12 inline-flex items-center justify-center rounded-full border-gray-1100 px-5 py-3 gap-2`,children:[(0,S.jsx)(`p`,{className:`md:text-base whitespace-nowrap text-sm font-inter font-medium text-black-1000`,children:`Clear All`}),(0,S.jsx)(`button`,{onClick:()=>R(),className:`cursor-pointer`,children:(0,S.jsx)(`img`,{src:`/icons/cross-icon.svg`,className:`min-w-4`,alt:`cross icon`})})]})}),V.map(e=>(0,S.jsx)(`li`,{children:(0,S.jsxs)(`div`,{className:`border group hover:border-black-1000 transition duration-200 h-12 inline-flex items-center justify-center rounded-full border-gray-1100 px-5 py-3 gap-2`,children:[(0,S.jsx)(`p`,{className:`md:text-base whitespace-nowrap text-sm font-inter font-medium text-black-1000`,children:e.label}),(0,S.jsx)(`button`,{onClick:()=>L(e.id),className:`cursor-pointer`,children:(0,S.jsx)(`img`,{src:`/icons/cross-icon.svg`,className:`min-w-4`,alt:`remove icon`})})]})},e.id))]})]})})}),w?(0,S.jsx)(`div`,{className:`flex items-center min-h-[60vh] justify-center`,children:(0,S.jsx)(`img`,{src:`/loading-vector.svg`,alt:``})}):U.length>0?(0,S.jsx)(p,{dataLength:U.length,next:h,hasMore:!!y,loader:(0,S.jsx)(`div`,{className:`grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mt-5`,children:[,,,,].fill(0).map((e,t)=>(0,S.jsx)(u,{},t))}),children:(0,S.jsx)(`div`,{className:`grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4`,children:U.map(e=>(0,S.jsx)(n,{to:`/auctions/$id`,params:{id:e.id?.toString()||``},children:(0,S.jsx)(v,{...e,id:e.id??0,prizeName:e.prizeName??``,prizeImage:e.prizeImage??``,collectionName:e.collectionName??``,reservePrice:e.reservePrice??``,status:e.status??``},e.id)},e.id))})}):(0,S.jsx)(_,{})]})})})}export{w as component};